<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="issued_offline_view_search" model="ir.ui.view">
            <field name="name">tt.reservation.offline.view.search</field>
            <field name="model">tt.reservation.offline</field>
            <field name="arch" type="xml">
                <search string="Search Issued Offline Booking">
                    <!--                   <field name="name" string="string" domain="[()]"/>-->
                    <field name="name"/>
                    <field name="pnr"/>
                    <field name="provider_name" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                    <field name="carrier_name" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                    <field name="ho_id" groups="base.group_erp_manager"/>
                    <field name="agent_id" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                    <field name="agent_type_id" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                    <field name="customer_parent_id" groups="tt_base.group_tt_agent_user,tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                    <field name="customer_parent_type_id" groups="tt_base.group_tt_agent_user,tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                    <!--                    <field name="provider"/>-->
                    <field name="contact_id"/>
                    <field name="passenger_ids"/>
                    <group>
                        <filter string="All" name="all"/>
                        <filter string="Draft" name="draft" domain="[('state_offline','=','draft')]"/>
                        <filter string="Confirm" name="confirm" domain="[('state_offline','=','confirm')]"/>
                        <filter string="Sent" name="sent" domain="[('state_offline','=','sent')]"/>
                        <filter string="Validate" name="validate" domain="[('state_offline','=','validate')]"/>
                        <filter string="Done" name="done" domain="[('state_offline','=','done')]"/>
                        <filter string="Canceled/Expired/Refund" name="canceled_expired_refund" domain="['|', '|', ('state_offline','=','cancel'),('state_offline','=','expired'),('state_offline','=','refund')]"/>
                    </group>
                    <separator/>
                    <group>
                        <filter string="Not Reconciled" name="reconciled" domain="[('reconcile_state','=','not_reconciled')]"/>
                        <filter string="Partial Reconciled" name="reconciled" domain="[('reconcile_state','=','partial')]"/>
                        <filter string="Reconciled" name="reconciled" domain="[('reconcile_state','=','reconciled')]"/>
                    </group>
                    <separator/>
                    <filter string="Today" name="today" domain="[('date','&gt;=',time.strftime('%%Y-%%m-%%d'))]"/>
                    <filter string="Yesterday" name="yesterday"
                            domain="[
                                ('date', '&lt;', (context_today()).strftime('%Y-%m-%d')),
                                ('date', '&gt;=', (context_today() - datetime.timedelta(days=1)).strftime('%Y-%m-%d'))
                            ]"/>
                    <filter name="week" string="This Week"
                            domain="[
                                '&amp;',
                                ('date', '>=', (context_today() + relativedelta(weeks=-1,days=1,weekday=0)).strftime('%Y-%m-%d')),
                                ('date', '&lt;=', (context_today() + relativedelta(weekday=6)).strftime('%Y-%m-%d')),
                            ]"/>
                    <filter string="This Month" name="thismonth" domain="[('date','&gt;=',time.strftime('%%Y-%%m-01'))]"/>
                    <filter string="This Year" name="thisyear" domain="[('date','&gt;=',time.strftime('%%Y-01-01'))]"/>

                    <group expand="0" string="Group By">
                        <filter string="Head Office" name="ho_id" domain="[]" context="{'group_by':'ho_id'}" groups="base.group_erp_manager"/>
                        <filter string="Agent" name="agent" domain="[]" context="{'group_by':'agent_id'}" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                        <filter string="Agent Type" name="agent_type_id" domain="[]" context="{'group_by':'agent_type_id'}" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                        <filter string="Customer Parent" name="customer_parent_id" domain="[]" context="{'group_by':'customer_parent_id'}" groups="tt_base.group_tt_agent_user,tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                        <filter string="Customer Parent Type" name="customer_parent_type_id" domain="[]" context="{'group_by':'customer_parent_type_id'}" groups="tt_base.group_tt_agent_user,tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                        <filter string="Sector" name="sector" domain="[]" context="{'group_by':'sector_type'}"/>
                        <filter string="State Offline" name="state_offline" domain="[]" context="{'group_by':'state_offline'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="issued_offline_view_form" model="ir.ui.view">
            <field name="name">tt.reservation.offline.view.form</field>
            <field name="model">tt.reservation.offline</field>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <field name="refundable" invisible="1"/>
                        <button string="Set to Draft" name="action_draft" type="object" states="cancel" groups="tt_base.group_tt_agent_user,tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                        <button string="Confirm" class="oe_highlight" name="action_confirm" type="object" attrs="{'invisible':[('state_offline','!=','draft')]}" groups="tt_base.group_tt_agent_user,tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                        <button string="Sent" name="action_sent" type="object" attrs="{'invisible':[('state_offline','!=','confirm')]}" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>  <!--states="confirm"-->
                        <button string="Validate" class="oe_highlight" name="action_validate_button" attrs="{'invisible':[('state_offline','!=','sent')]}" type="object" groups="tt_base.group_tt_agent_user,tt_base.group_reservation_level_4"/>
                        <button string="Quick Validate" class="oe_highlight" name="action_quick_issued" attrs="{'invisible':['|', ('state_offline','!=','confirm'),('quick_validate','=',False)]}" type="object" groups="tt_base.group_reservation_level_4"/>
                        <!--                        <button string="Post" name="action_done" states="draft,confirm,sent,paid,posted" type="object" groups="tt_base.group_tt_tour_travel_operator"/>-->
                        <button string="Done" class="oe_highlight" name="action_done" attrs="{'invisible':[('state_offline','!=','validate')]}" type="object" groups="tt_base.group_reservation_level_4"/>
                        <button string="Cancel" name="action_cancel" type="object" attrs="{'invisible':[('state_offline','not in',['confirm','sent','validate','done'])]}" groups="tt_base.group_reservation_level_4" confirm="Are you sure want to cancel?"/>
                        <button string="Cancel" name="action_cancel" type="object"  attrs="{'invisible':[('state_offline','!=','draft')]}" confirm="Are you sure want to cancel?"/>

                        <!--                        hapus setelah fix-->
                        <button string="ACCOUNTING SET TO ISSUED" name="offline_set_to_issued" type="object" attrs="{'invisible':[('state_offline','in',['draft', 'confirm', 'expired'])]}" groups="tt_base.group_after_sales_master_level_5"/>
                        <!--                        end of hapus-->

                        <button string="Change Admin Fee" name="%(tt_accounting.tt_change_admin_fee_wizard_action_view)d" type="action"
                                context="{
                        'default_res_model': 'tt.reservation.offline',
                        'default_res_id': id,
                        'default_ho_id': ho_id,
                        'default_agent_id': agent_id,
                        'default_agent_type_id': agent_type_id,
                        'default_admin_fee_id': admin_fee_id
                    }" groups="tt_base.group_tt_tour_travel,base.group_erp_manager" attrs="{'invisible':[('state_offline','!=','confirm')]}"/>

                        <button string="Adjustment" name="%(tt_accounting.tt_adjustment_wizard_action_view)d" type="action" groups="tt_base.group_adjustment_level_3"
                                context="{
                        'default_res_model': res_model,
                        'default_res_id': id,
                        'default_ho_id': ho_id,
                        'default_agent_id': agent_id,
                        'default_referenced_document': name,
                        'default_currency_id': currency_id,
                        'default_adj_type': provider_type_id
                    }"/>
<!--                        <button string="Split Reservation" name="%(tt_reservation_offline.tt_split_reservation_offline_wizard_action_view)d" type="action" groups="tt_base.group_reservation_level_4"-->
<!--                                context="{-->
<!--                                        'default_res_id': id,-->
<!--                                        'default_referenced_document': name,-->
<!--                                        'default_currency_id': currency_id,-->
<!--                                   }"/>-->
                        <button string="Refund Request" name="%(tt_accounting.tt_refund_wizard_action_view)d" type="action" groups="base.group_erp_manager,tt_base.group_tt_agent_user"
                                context="{
                        'default_res_model': res_model,
                        'default_res_id': id,
                        'default_ho_id': ho_id,
                        'default_agent_id': agent_id,
                        'default_customer_parent_id': customer_parent_id,
                        'default_referenced_document': name,
                        'default_referenced_pnr': pnr,
                        'default_booker_id': booker_id,
                        'default_currency_id': currency_id,
                        'default_service_type': provider_type_id
                    }" attrs="{'invisible':[('refundable','=',False)]}"/>
                        <button string="Set Back to Confirm" name="set_back_to_confirm" type="object" groups="tt_base.group_tt_tour_travel,tt_base.group_tt_agent_user,base.group_erp_manager" states="cancel2"/>
                        <!--                        <button string="Print Invoice Ticket" name="print_invoice_ticket" type="object" states="paid,posted"/>-->
                        <!--                        <button string="Get Config API" name="get_config_api" type="object"/>-->
                        <!--                        <button string="Sync ALL Carrier List" name="sync_all_carrier_list" type="object" groups="base.group_system"/>-->
                        <!--                        <button string="Sync ALL Service Charge" name="sync_all_service_charge" type="object" groups="base.group_system"/>-->
                        <!--                        <button string="Get Booking Offline" name="get_booking_offline" type="object"/>-->
                        <!--                        <button string="Test Repricing Offline" name="test_repricing_offline" type="object"/>-->
                        <!--                        <button string="Sync Service Charge" name="sync_service_charge" type="object"/>-->
                        <!--                        <button string="Print Invoice Ticket" name="print_invoice_ticket" type="object" states="paid,posted"/>-->
                        <!--                        <button string="Get Config API" name="get_config_api" type="object"/>-->
                        <field name="state_offline" widget="statusbar" statusbar_visible="draft,confirm,sent,validate,done"/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button name="%(tt_base.tt_upload_center_wizard_action_view)d" string="Upload Document" type="action"
                                    class="oe_stat_button" icon="fa-upload" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"
                                    attrs="{'invisible': [('state_offline', '=', 'done')]}"
                                    context="{'default_agent_id': agent_id,
                                              'default_ho_id': ho_id,
                                              'default_owner_id': confirm_uid,
                                              'default_target_field_name': 'attachment_ids'}"/>
<!--                            <button name="print_ho_invoice"-->
<!--                                    class="oe_stat_button" states="issued,done"-->
<!--                                    string="Print Invoice (HO)" type="object" icon="fa-print"-->
<!--                                    groups="tt_base.group_tt_tour_travel,tt_base.group_tt_agent_user"/>-->
                            <button name="print_itinerary"
                                    class="oe_stat_button" states="booked,issued,done,refund,rescheduled,reissue"
                                    string="Print Itinerary" type="object" icon="fa-print"/>
                            <button name="print_itinerary_price"
                                    class="oe_stat_button" states="booked,issued,done,refund,rescheduled,reissue"
                                    string="Print Itinerary (Price)" type="object" icon="fa-print"/>
                        </div>
                        <div class="oe_title">
                            <h1>
                                <field name="name" default_focus="1" placeholder="Name" readonly="True"/>
                            </h1>
                            <h6>
                                <field name="reconcile_state"
                                       decoration-danger="reconcile_state == 'not_reconciled'"
                                       decoration-info="reconcile_state == 'partial'"
                                       decoration-success="reconcile_state == 'reconciled'"
                                       groups="tt_base.group_reconcile_level_3"/>
                            </h6>
                        </div>
                        <group>
                            <group>
                                <!--                                ### untuk default value adjustment &ndash;&gt;-->
                                <field name="res_model" invisible="1"/>
                                <field name="ho_id" readonly="1" groups="base.group_erp_manager"/>
                                <field name="agent_id" readonly="1" groups="tt_base.group_tt_agent_user,tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                                <field name="agent_type_id" readonly="1"/>
                                <field name="booker_id" required="1"/>
                                <field name="contact_id" required="1" context="{'default_agent_id': agent_id}" options="{'no_quick_create': True}"/>
                                <field name="customer_parent_id" readonly="0" required="1" groups="tt_base.group_tt_agent_user,tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                                <field name="offline_provider_type" required="1" domain="[('code', 'not in', ['tour','visa','passport','offline','cruise'])]" attrs="{'readonly': [('state_offline', 'not in', ['draft'])]}"/>
                                <field name="offline_provider_type_name" attrs="{'invisible': [('offline_provider_type', 'not in', ['other'])]}"/>
                                <field name="provider_type_id_name" invisible="1"/>
                                <field name="provider_type_id" invisible="1"/>
                                <field name="provider_name" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                                <field name="carrier_name" attrs="{'invisible': [('offline_provider_type', 'not in', ['airline','train'])]}"/>
                                <field name="pnr" string="List of PNR" readonly="1"/>
                                <field name="sector_type" attrs="{'invisible': [('provider_type_id_name', 'not in', 'airline')]}"/>
                                <field name="cancel_message" states="cancel"
                                       attrs="{'readonly':[('cancel_can_edit','=',False)]}"/>
                                <field name="cancel_can_edit" invisible="1"/>
                                <field name="input_total" attrs="{'readonly': [('state_offline', 'not in', ['draft', 'confirm'])]}" required="1"/>
                                <field name="total_commission_amount" invisible="0" attrs="{'invisible': [('state_offline', '=', 'draft')], 'readonly': [('state_offline', 'not in', ['draft', 'confirm'])]}"
                                       groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                                <field name="agent_commission" groups="tt_base.group_tt_agent_user,tt_base.group_tt_tour_travel,base.group_erp_manager" readonly="1"/>
                                <field name="parent_agent_commission" groups="tt_base.group_tt_tour_travel,base.group_erp_manager" invisible="0"/>
                                <field name="ho_commission" groups="tt_base.group_tt_tour_travel,base.group_erp_manager" invisible="0"/>
                                <field name="incentive_amount" groups="tt_base.group_tt_tour_travel,base.group_erp_manager" attrs="{'invisible': [('state_offline', '=', 'draft')]}"/>
                                <field name="nta_price" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                                <field name="agent_nta_price"/>
                                <field name="total_channel_upsell"/>
                                <field name="admin_fee_id" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                                <field name="admin_fee" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                                <field name="admin_fee_ho" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                                <field name="admin_fee_agent" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                                <!--                                <field name="total_with_fees"/>-->
                                <field name="total" readonly="1"/>
                            </group>
                            <group>
                                <field name="state" string="Status" invisible="0" readonly="1"/>
                                <field name="social_media_type" attrs="{'required': [('state_offline', '=', 'confirm')], 'readonly': [('state_offline', 'not in', ['draft', 'confirm'])]}"/>
                                <field name="hold_date" invisible="0" readonly="0" string="Time Limit"/>
                                <!--                                <field name="expired_date" required="1"/>-->
                                <field name="currency_id" invisible="1"/>
                                <label for="user_id" string="Created"/>
                                <div>
                                    <field name="create_date" readonly="1" class="oe_inline"/> -
                                    <field name="user_id" readonly="1" class="oe_inline"/>
                                </div>
                                <label for="confirm_uid" string="Confirmed"/>
                                <div attrs="{'invisible': [('state_offline', '=', False)]}">
                                    <field name="confirm_date" readonly="1" class="oe_inline"/> -
                                    <field name="confirm_uid" readonly="1" class="oe_inline"/>
                                </div>
                                <label for="sent_uid" string="Sent"/>
                                <div>
                                    <field name="sent_date" readonly="1" class="oe_inline"/> -
                                    <field name="sent_uid" readonly="1" class="oe_inline"/>
                                </div>
                                <!--                                <label for="issued_uid" string="Validate by"/>-->
                                <!--                                <div>-->
                                <!--                                    <field name="issued_date" class="oe_inline"/> - -->
                                <!--                                    <field name="issued_uid" class="oe_inline"/>-->
                                <!--                                </div>-->
                                <label for="validate_uid" string="Validate"/>
                                <div>
                                    <field name="validate_date" class="oe_inline"/> -
                                    <field name="validate_uid" class="oe_inline"/>
                                </div>
                                <label for="done_uid" string="Done"/>
                                <div>
                                    <field name="done_date" class="oe_inline"/> -
                                    <field name="done_uid" class="oe_inline"/>
                                </div>
                                <label for="refund_uid" string="Refund"/>
                                <div>
                                    <field name="refund_date" class="oe_inline"/> -
                                    <field name="refund_uid" class="oe_inline" readonly="1"/>
                                </div>
                                <label for="cancel_uid" string="Cancel"/>
                                <div attrs="{'invisible': [('cancel_date', '=', False)]}">
                                    <field name="cancel_date" class="oe_inline"/> -
                                    <field name="cancel_uid" class="oe_inline"/>
                                </div>
                                <field name="quick_validate" groups="tt_base.group_tt_tour_travel,base.group_erp_manager" attrs="{'readonly': [('state_offline', 'not in', ['draft'])]}"/>
                                <field name="split_from_resv_id" attrs="{'invisible': [('split_from_resv_id', '=', False)]}"/>
                                <field name="is_member" readonly="1" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                                <field name="payment_method" readonly="1" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                                <field name="payment_date" readonly="1" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                                <field name="is_get_point_reward" groups="tt_base.group_tt_tour_travel,base.group_erp_manager" attrs="{'readonly': [('state_offline', 'not in', ['draft', 'confirm'])]}"/>
                                <field name="is_using_point_reward" groups="tt_base.group_tt_tour_travel,base.group_erp_manager" attrs="{'readonly': [('state_offline', 'not in', ['draft', 'confirm'])]}"/>
                                <field name="payment_method_to_ho" groups="tt_base.group_tt_tour_travel,base.group_erp_manager" attrs="{'readonly': [('state_offline', 'not in', ['draft', 'confirm'])]}"/>
                            </group>
                        </group>
                        <group>
                            <group>
                                <field name="description" attrs="{'invisible': [('provider_type_id_name', 'in', ['airline', 'train']), ('state_offline','=','draft')]}"/>
                            </group>
                            <group string="Booking Value" groups="tt_base.group_tt_tour_travel,base.group_erp_manager" attrs="{'invisible': [('state_offline', 'not in', ['validate','done'])]}">
                                <field name="resv_code" attrs="{'readonly': [('state_offline', 'not in', ['validate'])]}"/>
                                <field name="vendor_amount" attrs="{'readonly': [('state_offline', 'not in', ['validate'])], 'required': [('state_offline', 'in', ['validate'])]}" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                                <field name="ho_final_amount" groups="tt_base.group_tt_tour_travel,base.group_erp_manager"/>
                                <label for="booked_date" string="Booked"/>
                                <div>
                                    <field name="booked_date" class="oe_inline"/> -
                                    <field name="booked_uid" class="oe_inline"/>
                                </div>
                            </group>
                        </group>
                        <notebook>
                            <page string="Line(s)" name="Lines">  <!--Airlines, Train, Hotel, Activity-->
                                <field name="line_ids" attrs="{'readonly': [('state_offline', 'not in', ['draft', 'confirm', 'validate'])]}">
                                    <tree>
                                        <field name="id" invisible="1"/>
                                        <field name="booking_id" invisible="1"/>
                                        <field name="transaction_name" invisible="1"/>
                                        <field name="transaction_type" invisible="1"/>
                                        <field name="pnr"/>
                                        <field name="carrier_id" attrs="{'column_invisible': [('parent.offline_provider_type', 'not in', ['airline','train'])]}"/>
                                        <field name="origin_id" attrs="{'column_invisible': [('parent.offline_provider_type', 'not in', ['airline','train'])]}"/>
                                        <field name="departure_date" attrs="{'column_invisible': [('parent.offline_provider_type', 'not in', ['airline','train'])]}"/>
                                        <field name="destination_id" attrs="{'column_invisible': [('parent.offline_provider_type', 'not in', ['airline','train'])]}"/>
                                        <field name="arrival_date" attrs="{'column_invisible': [('parent.offline_provider_type', 'not in', ['airline','train'])]}"/>
                                        <field name="hotel_name" attrs="{'column_invisible': [('parent.offline_provider_type', 'not in', ['hotel'])]}"/>
                                        <field name="room" attrs="{'column_invisible': [('parent.offline_provider_type', 'not in', ['hotel'])]}"/>
                                        <field name="check_in" attrs="{'column_invisible': [('parent.offline_provider_type', 'not in', ['hotel'])]}"/>
                                        <field name="check_out" attrs="{'column_invisible': [('parent.offline_provider_type', 'not in', ['hotel'])]}"/>
                                        <field name="activity_name" attrs="{'column_invisible': [('parent.offline_provider_type', 'not in', ['activity'])]}"/>
                                        <field name="activity_package" attrs="{'column_invisible': [('parent.offline_provider_type', 'not in', ['activity'])]}"/>
                                        <field name="visit_date" attrs="{'column_invisible': [('parent.offline_provider_type', 'not in', ['activity'])]}"/>
                                        <field name="obj_qty" attrs="{'column_invisible': [('parent.offline_provider_type', 'not in', ['hotel','activity'])]}"/>
                                        <field name="state" invisible="1"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Passenger(s)">
                                <field name="passenger_ids" attrs="{'readonly': [('state_offline', 'not in', ['draft', 'confirm', 'sent', 'validate'])]}"/>  <!--context="{'default_agent_id': sub_agent_id}"-->
                            </page>
                            <page string="Prices" name="prices" groups="tt_base.group_tt_tour_travel,base.group_erp_manager">  <!--attrs="{'invisible': [('state', '=', 'draft')]}"-->
                                <field name="sale_service_charge_ids" readonly="1">
                                    <tree>
                                        <field name="charge_code"/>
                                        <field name="pax_type"/>
                                        <field name="pax_count"/>
                                        <field name="amount"/>
                                        <field name="total"/>
                                        <field name="currency_id" invisible="1"/>
                                        <field name="description"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Vendor" name="vendor" groups="tt_base.group_tt_tour_travel,base.group_erp_manager">
                                <field name="provider_booking_ids" readonly="1"/>
                            </page>
                            <page string="Ledger" attrs="{'invisible': [('state', '=', 'draft')]}">  <!--groups="tt_base.group_tt_agent_user_operator,tt_base.group_tt_tour_travel_operator"-->
                                <field name="ledger_ids" readonly="1"/>  <!--groups="tt_base.group_tt_tour_travel_operator"-->
                            </page>
                            <page name="attachment" string="Attachment">
                                <field name="attachment_ids" attrs="{'readonly': [('state_offline', '=', 'done')]}"/>  <!-- string="Attach a File" widget="many2many_tags"-->
                            </page>
                            <page string="Adjustment">
                                <field name="adjustment_ids"/>
                            </page>
                            <page string="Splits" name="reservation_splits" groups="tt_base.group_tt_agent_user,tt_base.group_tt_tour_travel,base.group_erp_manager" attrs="{'invisible': [('split_to_resv_ids', '=', [])]}">
                                <field name="split_to_resv_ids"/>
                            </page>
                            <page string="Refund" name="refund_page" attrs="{'invisible':[('refund_ids','=', [])]}">
                                <field name="refund_ids"/>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="issued_offline_view_tree">
            <field name="name">tt.reservation.offline.view.tree</field>
            <field name="model">tt.reservation.offline</field>
            <field name="arch" type="xml">
                <tree>
                    <!--                    <button type="object" string="Create Issued Offline" name="create_booking_reservation_offline_api"/>-->
                    <field name="name"/>
                    <field name="offline_provider_type"/>
                    <field name="ho_id" groups="base.group_erp_manager"/>
                    <field name="agent_id"/>
                    <field name="pnr"/>
                    <field name="carrier_name"/>
                    <field name="sector_type"/>
                    <field name="confirm_uid"/>
                    <field name="confirm_date"/>
                    <field name="create_date"/>
                    <field name="hold_date" string="Time Limit"/>
                    <field name="currency_id" invisible="1"/>
                    <field name="total"/>
                    <!--                    <field name="expired_date"/>-->
                    <field name="state_offline" string="State Offline"/>
                    <field name="state" invisible="1"/>
                    <field name="reconcile_state"/>
                </tree>
            </field>
        </record>

        <record model="ir.actions.act_window" id="issued_offline_all_action">
            <field name="name">Reservation Offline All</field>
            <field name="res_model">tt.reservation.offline</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="issued_offline_view_search"/>
            <field name="context">
                {
                'form_view_ref': 'tt_reservation_offline.issued_offline_view_form',
                'tree_view_ref': 'tt_reservation_offline.issued_offline_view_tree',
                'search_default_all':1
                }
            </field>
        </record>

        <record model="ir.actions.act_window" id="issued_offline_draft_action">
            <field name="name">Reservation Offline Draft</field>
            <field name="res_model">tt.reservation.offline</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="issued_offline_view_search"/>
            <field name="context">
                {
                'form_view_ref': 'tt_reservation_offline.issued_offline_view_form',
                'tree_view_ref': 'tt_reservation_offline.issued_offline_view_tree',
                'search_default_draft':1
                }
            </field>
        </record>

        <record model="ir.actions.act_window" id="issued_offline_confirm_action">
            <field name="name">Reservation Offline Confirm</field>
            <field name="res_model">tt.reservation.offline</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="issued_offline_view_search"/>
            <field name="context">
                {
                'form_view_ref': 'tt_reservation_offline.issued_offline_view_form',
                'tree_view_ref': 'tt_reservation_offline.issued_offline_view_tree',
                'search_default_confirm':1
                }
            </field>
        </record>

        <record model="ir.actions.act_window" id="issued_offline_sent_action">
            <field name="name">Reservation Offline Sent</field>
            <field name="res_model">tt.reservation.offline</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="issued_offline_view_search"/>
            <field name="context">
                {
                'form_view_ref': 'tt_reservation_offline.issued_offline_view_form',
                'tree_view_ref': 'tt_reservation_offline.issued_offline_view_tree',
                'search_default_sent':1
                }
            </field>
        </record>

        <record model="ir.actions.act_window" id="issued_offline_validate_action">
            <field name="name">Reservation Offline Validate</field>
            <field name="res_model">tt.reservation.offline</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="issued_offline_view_search"/>
            <field name="context">
                {
                'form_view_ref': 'tt_reservation_offline.issued_offline_view_form',
                'tree_view_ref': 'tt_reservation_offline.issued_offline_view_tree',
                'search_default_validate':1
                }
            </field>
        </record>

        <record model="ir.actions.act_window" id="issued_offline_done_action">
            <field name="name">Reservation Offline Done</field>
            <field name="res_model">tt.reservation.offline</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="issued_offline_view_search"/>
            <field name="context">
                {
                'form_view_ref': 'tt_reservation_offline.issued_offline_view_form',
                'tree_view_ref': 'tt_reservation_offline.issued_offline_view_tree',
                'search_default_done':1
                }
            </field>
        </record>

        <record model="ir.actions.act_window" id="issued_offline_cancel_expired_refund_action">
            <field name="name">Reservation Offline Cancel Expired Refund</field>
            <field name="res_model">tt.reservation.offline</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="issued_offline_view_search"/>
            <field name="context">
                {
                'form_view_ref': 'tt_reservation_offline.issued_offline_view_form',
                'tree_view_ref': 'tt_reservation_offline.issued_offline_view_tree',
                'search_default_canceled_expired_refund':1
                }
            </field>
        </record>

        <menuitem id="submenu_issued_offline_side_menu_all" parent="tt_reservation_offline.menu_offline_order"
                  name="ALL" sequence='1' action="issued_offline_all_action"/>

        <menuitem id="submenu_issued_offline_side_menu_draft" parent="tt_reservation_offline.menu_offline_order"
                  name="Draft" sequence='2' action="issued_offline_draft_action"/>

        <menuitem id="submenu_issued_offline_side_menu_confirm" parent="tt_reservation_offline.menu_offline_order"
                  name="Confirm" sequence='3' action="issued_offline_confirm_action"/>

        <menuitem id="submenu_issued_offline_side_menu_sent" parent="tt_reservation_offline.menu_offline_order"
                  name="Sent" sequence='4' action="issued_offline_sent_action"/>

        <menuitem id="submenu_issued_offline_side_menu_validate" parent="tt_reservation_offline.menu_offline_order"
                  name="Paid" sequence='5' action="issued_offline_validate_action"/>

        <menuitem id="submenu_issued_offline_side_menu_done" parent="tt_reservation_offline.menu_offline_order"
                  name="Done" sequence='6' action="issued_offline_done_action"/>

        <menuitem id="submenu_issued_offline_side_menu_cancel_expired_refund" parent="tt_reservation_offline.menu_offline_order"
                  name="Cancel/Expired/Refund" sequence='7' action="issued_offline_cancel_expired_refund_action"/>

    </data>
</odoo>