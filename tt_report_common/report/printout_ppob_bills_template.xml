<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Template struk pembayaran listrik postpaid -->
    <template id="reservation_ppob_pln_postpaid_content_view">
        <div class="box" style="margin: 0px 20px 20px 20px">
            <!-- No. Booking -->
            <div style="margin-bottom: 10px; margin-top: 5px;">
                <span style="font-size: 18px; font-weight: 730">No. Booking : </span>
                <span t-field="doc.name" style="font-size: 18px; font-weight: 730"/><br/>
            </div>

            <!-- Header -->
            <div class="title" t-att-style="'background-color: '+base_color+'; border-radius: 20px 20px 0 0; border-color: #CCC; padding-top: 5px; padding-bottom: 5px'">
                <span style="text-align: center; padding-left: 20px; color: white; font-weight: 600; font-size: 20px">Struk Pembayaran Tagihan Listrik :</span><br/>
            </div>

            <!-- Body -->
            <t t-foreach="doc.provider_booking_ids" t-as="provider">
                <div class="row" style="margin: 0px; margin-bottom: 40px; padding-top:10px; padding-bottom: 10px; font-size: 17px; border-radius: 0 0 20px 20px; border: 1px solid #BBB;">
                    <div class="col-3">
                        <b>
                            <span>IDPEL</span><br/>
                            <span>NAMA</span><br/>
                            <span>TARIF/DAYA</span><br/>
                            <span>RP TAG PLN</span><br/>
                            <span>NO REF *)</span><br/>
                            <span>BL/TH</span><br/>
                            <span>STAND METER</span><br/>
                        </b>
                    </div>
                    <div class="col-1">
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                    </div>
                    <div class="col-7">
                        <span t-field="provider.customer_number"/><br/>
                        <span t-field="provider.customer_name"/><br/>
                        <span t-field="provider.fare_type"/>/<span t-field="provider.power"/> VA<br/>
                        <span t-esc="int(values['total_tagihan_pln'])" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/><br/>
                        <span t-field="provider.pnr"/><br/>
                        <span t-esc="values['period']"/><br/>
                        <span t-esc="int(values['before_meter'])"/> - <span t-esc="int(values['after_meter'])"/><br/>
                    </div>
                </div>
            </t>

            <!-- Notes -->
            <h3 style="padding-left: 20px; text-align:center; font-weight: 600; font-size: 18px">PLN menyatakan struk ini sebagai bukti pembayaran yang sah.</h3><br/>

            <!-- Total -->
            <div class="row" style="padding-top: 15px;">
                <div class="col-3" style="max-width: 27.5%;"><span style="font-weight: 600;">Admin CA *)</span></div>
                <div class="col-1" style="max-width: 6%; padding: 0px;">:<span style="color: white;">..</span></div>
                <div class="col-8" style="padding: 0px; text-transform:uppercase;">
                     <span t-esc="int(values['admin_bank'])" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/>
                </div>
            </div>
            <div class="row" style="margin-bottom: 50px;">
                <div class="col-3" style="max-width: 27.5%;"><span style="font-weight: 600;">Total Bayar</span></div>
                <div class="col-1" style="max-width: 6%; padding: 0px;">:<span style="color: white;">..</span></div>
                <div class="col-8" style="padding: 0px; text-transform:uppercase;">
                     <span t-field="doc.total" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/>
                </div>
            </div>

            <!-- Footer -->
            <div class="row" style="">
                <div class="col-2"/>
                <div class="col-8">
                    <t t-if="doc.provider_booking_ids[0].unpaid_bill_display == 0">
                        <h3 style="padding-left: 20px; text-align:center; font-weight: 600; font-size: 18px">Terima Kasih</h3>
                    </t>
                    <t t-else="">
                        <h3 style="padding-left: 20px; text-align:center; font-weight: 600; font-size: 18px">Anda masih memiliki sisa tunggakan <span t-esc="doc.provider_booking_ids[0].unpaid_bill_display"/> bulan</h3>
                    </t>
                    <h3 style="padding-left: 20px; text-align:center; font-weight: 600; font-size: 18px">Rincian pelanggan dapat diakses di www.pln.co.id</h3>
                    <h3 style="padding-left: 20px; text-align:center; font-weight: 600; font-size: 18px">Informasi hubungi Contact Center : 123</h3>
                    <h3 style="padding-left: 20px; text-align:center; font-weight: 600; font-size: 18px">Atau hub. PLN Terdekat : <span t-field="doc.provider_booking_ids[0].unit_phone_number"/> *)</h3>
                </div>
                <div class="col-2"/>
            </div>
        </div>
    </template>

    <!-- Template struk pembayaran listrik prepaid -->
    <template id="reservation_ppob_pln_prepaid_content_view">
        <div class="box" style="margin: 0px 20px 20px 20px">
            <!-- No. Booking -->
            <div style="margin-bottom: 10px; margin-top: 5px;">
                <span style="font-size: 18px; font-weight: 730">No. Booking : </span>
                <span t-field="doc.name" style="font-size: 18px; font-weight: 730"/><br/>
            </div>

            <!-- Content -->
            <div class="title" t-att-style="'background-color: '+base_color+'; border-radius: 20px 20px 0 0; border-color: #CCC; padding-top: 5px; padding-bottom: 5px'">
                <span style="text-align: center; padding-left: 20px; color: white; font-weight: 600; font-size: 20px">Struk Pembelian Listrik Prabayar :</span><br/>
            </div>

            <t t-foreach="doc.provider_booking_ids" t-as="provider">
                <div class="row" style="margin: 0px; margin-bottom: 40px; padding-top:10px; padding-bottom: 10px; font-size: 17px; border-radius: 0 0 20px 20px; border: 1px solid #BBB;">
                    <div class="col-3">
                        <b>
                            <span>NO METER</span><br/>
                            <span>IDPEL</span><br/>
                            <span>NAMA</span><br/>
                            <span>TARIF/DAYA</span><br/>
                            <span>RP TAG PLN</span><br/>
                            <span>NO REF *)</span><br/>
                            <span>RP BAYAR</span><br/>
                            <span>METERAI</span><br/>
                            <span>PPN</span><br/>
                            <span>PPJ</span><br/>
                            <span>ANGSURAN</span><br/>
                            <span>RP STROOM/TOKEN</span><br/>
                            <span>JML KWH</span><br/>
                            <span>ADMIN CA *)</span><br/>
                        </b>
                    </div>
                    <div class="col-1">
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                    </div>
                    <div class="col-7">
                        <span t-field="provider.meter_number"/><br/>
                        <span t-field="provider.customer_number"/><br/>
                        <span t-field="provider.customer_name"/><br/>
                        <span t-field="provider.fare_type"/>/<span t-field="provider.power"/> VA<br/>
                        <span t-esc="int(values['total_tagihan_pln'])" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/><br/>
                        <span t-field="provider.pnr"/><br/>
                        <span t-field="doc.total" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/><br/>
                        <span t-esc="int(values['stamp_fee'])" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/><br/>
                        <span t-esc="int(values['ppn'])" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/><br/>
                        <span t-esc="int(values['ppj'])" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/><br/>
                        <span t-esc="int(values['installment'])" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/><br/>
                        <span t-esc="int(values['tarif'])" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/><br/>
                        <span t-esc="values['jumlah_kwh']"/><br/>
                        <span t-esc="int(values['admin_bank'])" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/>
                    </div>
                </div>
            </t>

            <!-- Stroom/Token -->
            <div class="row" style="padding-top: 15px; margin-bottom: 50px;">
                <div class="col-3" style="max-width: 27.5%;"><span style="font-weight: 600;">STROOM/TOKEN</span></div>
                <div class="col-1" style="max-width: 6%; padding: 0px;">:<span style="color: white;">..</span></div>
                <div class="col-8" style="padding: 0px; text-transform:uppercase; font-weight: 600;">
                     <span t-field="doc.provider_booking_ids[0].ppob_bill_ids[0].token"/>
                </div>
            </div>

            <!-- Notes -->
            <div class="row" style="">
                <div class="col-2"/>
                <div class="col-8">
                    <h3 style="padding-left: 20px; text-align:center; font-weight: 600; font-size: 18px">Informasi hubungi Contact Center 123</h3>
                    <h3 style="padding-left: 20px; text-align:center; font-weight: 600; font-size: 18px">Atau</h3>
                    <h3 style="padding-left: 20px; text-align:center; font-weight: 600; font-size: 18px">Hub. PLN Terdekat : <span t-field="doc.provider_booking_ids[0].unit_phone_number"/></h3>
                </div>
                <div class="col-2"/>
            </div>
        </div>
    </template>

    <!-- Template struk pembayaran non listrik -->
    <template id="reservation_ppob_non_pln_content_view">
        <div class="box" style="margin: 0px 20px 20px 20px">
            <!-- No. Booking -->
            <div style="margin-bottom: 10px; margin-top: 5px;">
                <span style="font-size: 18px; font-weight: 730">No. Booking : </span>
                <span t-field="doc.name" style="font-size: 18px; font-weight: 730"/><br/>
            </div>

            <!-- Content -->
            <div class="title" t-att-style="'background-color: '+base_color+'; border-radius: 20px 20px 0 0; border-color: #CCC; padding-top: 5px; padding-bottom: 5px'">
                <span style="text-align: center; padding-left: 20px; color: white; font-weight: 600; font-size: 20px">Struk Non Tagihan Listrik :</span><br/>
            </div>

            <t t-foreach="doc.provider_booking_ids" t-as="provider">
                <div class="row" style="margin: 0px; margin-bottom: 40px; padding-top:10px; padding-bottom: 10px; font-size: 17px; border-radius: 0 0 20px 20px; border: 1px solid #BBB;">
                    <div class="col-3">
                        <b>
                            <span>TRANSAKSI</span><br/>
                            <span>NO REGISTRASI</span><br/>
                            <span>TGL REGISTRASI</span><br/>
                            <span>NAMA</span><br/>
                            <span>IDPEL</span><br/>
                            <span>BIAYA PLN</span><br/>
                            <span>NO REF **)</span><br/>
                        </b>
                    </div>
                    <div class="col-1">
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                    </div>
                    <div class="col-7">
                        <span t-field="provider.transaction_code"/><br/>  <!-- Sementara. gtw pake name atau code -->
                        <span t-field="provider.registration_number"/><br/>
                        <span t-field="provider.registration_date"/><br/>
                        <span t-field="provider.customer_name"/><br/>
                        <span t-field="provider.customer_number"/><br/>
                        <span t-esc="int(values['total_tagihan_pln'])" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/><br/>
                        <span t-field="provider.pnr"/><br/>
                    </div>
                </div>
            </t>

            <h3 style="padding-left: 20px; text-align:center; font-weight: 600; font-size: 18px">PLN menyatakan struk ini sebagai bukti pembayaran yang sah.</h3><br/>

            <!-- Total -->
            <div class="row" style="padding-top: 15px;">
                <div class="col-3" style="max-width: 27.5%;"><span style="font-weight: 600;">Admin CA *)</span></div>
                <div class="col-1" style="max-width: 6%; padding: 0px;">:<span style="color: white;">..</span></div>
                <div class="col-8" style="padding: 0px; text-transform:uppercase;">
                     <span t-esc="int(values['admin_bank'])" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/>
                </div>
            </div>
            <div class="row" style="margin-bottom: 50px;">
                <div class="col-3" style="max-width: 27.5%;"><span style="font-weight: 600;">Total Bayar</span></div>
                <div class="col-1" style="max-width: 6%; padding: 0px;">:<span style="color: white;">..</span></div>
                <div class="col-8" style="padding: 0px; text-transform:uppercase;">
                    <span t-field="doc.total" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/>
                </div>
            </div>

            <!-- Notes -->
            <div class="row" style="">
                <div class="col-2"/>
                <div class="col-8">
                    <h3 style="padding-left: 20px; text-align:center; font-weight: 600; font-size: 18px">Informasi hubungi Contact Center 123</h3>
                    <h3 style="padding-left: 20px; text-align:center; font-weight: 600; font-size: 18px">Atau</h3>
                    <h3 style="padding-left: 20px; text-align:center; font-weight: 600; font-size: 18px">Hub. PLN Terdekat : <span t-field="doc.provider_booking_ids[0].unit_phone_number"/></h3>
                </div>
                <div class="col-2"/>
            </div>
        </div>
    </template>

    <!-- Template struk pembayaran BPJS Kesehatan -->
    <template id="reservation_ppob_bpjs_kesehatan_content_view">
        <div class="box" style="margin: 0px 20px 20px 20px">
            <!-- No. Booking -->
            <div style="margin-bottom: 10px; margin-top: 5px;">
                <span style="font-size: 18px; font-weight: 730">No. Booking : </span>
                <span t-field="doc.name" style="font-size: 18px; font-weight: 730"/><br/>
            </div>

            <!-- Header -->
            <div class="title" t-att-style="'background-color: '+base_color+'; border-radius: 20px 20px 0 0; border-color: #CCC; padding-top: 5px; padding-bottom: 5px'">
                <span style="text-align: center; padding-left: 20px; color: white; font-weight: 600; font-size: 20px">Struk Pembayaran Iuran BPJS Kesehatan :</span><br/>
            </div>

            <!-- Content -->
            <t t-foreach="doc.provider_booking_ids" t-as="provider">
                <div class="row" style="margin: 0px; margin-bottom: 40px; padding-top:10px; padding-bottom: 10px; font-size: 17px; border-radius: 0 0 20px 20px; border: 1px solid #BBB;">
                    <div class="col-3">
                        <b>
                            <span>MKM REF</span><br/>
                            <span>TANGGAL</span><br/>
                            <span>NOMOR VA</span><br/>
                            <span>NAMA</span><br/>
                            <span>JUMLAH PESERTA</span><br/>
                            <span>BPJS REF</span><br/>
                            <span>SISA PEMBAYARAN</span><br/>
                            <span>JUM. PERIODE</span><br/>
                            <span>JUM. TAG./PREMI</span><br/>
                            <span>BIAYA ADMIN</span><br/>
                            <span>TOTAL BAYAR</span><br/>
                        </b>
                    </div>
                    <div class="col-1">
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                        <span>:</span><br/>
                    </div>
                    <div class="col-7">
                        <span t-field="provider.session_id"/><br/>
                        <span t-esc="values['date']"/><br/>
                        <span t-field="provider.customer_number"/><br/>
                        <span t-field="provider.customer_name"/><br/>
                        <span t-esc="values['jumlah_peserta']"/><br/>
                        <span t-field="provider.pnr"/><br/>
                        <span t-field="provider.unpaid_bill_display" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/><br/>
                        <span t-esc="values['period']"/><br/>
                        <span t-esc="int(values['tarif'])" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/><br/>
                        <span t-esc="int(values['admin_fee'])" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/><br/>
                        <span t-field="doc.total" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/>
                    </div>
                </div>
            </t>

            <!-- Footer -->
            <div class="row" style="">
                <div class="col-1"/>
                <div class="col-10">
                    <h3 style="padding-left: 20px; text-align:center; font-weight: 600; font-size: 18px">BPJS KESEHATAN MENYATAKAN STRUK INI SEBAGAI BUKTI YANG SAH</h3>
                    <h3 style="padding-left: 20px; text-align:center; font-weight: 600; font-size: 18px">Rincian tagihan dapat diakses di: daftar.bpjs-kesehatan.go.id/bpjs-checking</h3>
                </div>
                <div class="col-1"/>
            </div>
        </div>
    </template>

    <!-- Main Function -->
    <template id="printout_ppob_bills">
        <t t-set="data_report_header_spacing" t-value="20"/>
        <t t-set="data_report_margin_top" t-value="2"/>
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <t t-call="tt_report_common.external_layout">
<!--                        <br/>-->
                        <t t-set="data_report_margin_top" t-value="10"/>
                        <t t-set="data_report_margin_bottom" t-value="0"/>
                        <t t-if="values['ppob_type'] == 'bpjs'">
                            <t t-call="tt_report_common.reservation_ppob_bpjs_kesehatan_content_view"/>
                        </t>
                        <t t-elif="values['ppob_type'] == 'postpln'">
                            <t t-call="tt_report_common.reservation_ppob_pln_postpaid_content_view"/>
                        </t>
                        <t t-elif="values['ppob_type'] == 'prepln'">
                            <t t-call="tt_report_common.reservation_ppob_pln_prepaid_content_view"/>
                        </t>
                        <t t-elif="values['ppob_type'] == 'notaglispln'">
                            <t t-call="tt_report_common.reservation_ppob_non_pln_content_view"/>
                        </t>
                    </t>
                </div>
            </t>
        </t>
    </template>
</odoo>