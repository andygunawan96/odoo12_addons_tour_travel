<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="itinerary_price_detail">
        <br/>
        <t t-if="with_price">
            <span style="font-size: 28px; font-weight: 730">Price Detail(s)</span><br/>
            <table width="100%">
                <thead style="border-bottom: 1px solid black; font-size:18px; text-align:center;">
                    <td><b>Pax</b></td>
                    <td><b>Qty</b></td>
                    <td><b>Total per Pax</b></td>
                    <td><b>Total</b></td>
                </thead>
                <t t-if="price_lines">
                    <!-- Itinerary yg dari Record Backend (Airline, train) -->
                    <t t-foreach="price_lines[doc.id]" t-as="price">
                        <t t-if="price">
                            <tr style="border-bottom: 1px solid lightgray">
                                <td style="text-align:center; border-right: 1px solid lightgray"><t t-esc="price['pax_type']"/></td>
                                <td style="text-align:right; border-right: 1px solid lightgray"><t t-esc="price['qty']"/></td>
                                <td style="text-align:right; border-right: 1px solid lightgray">@<t t-esc="float(price['price_per_pax'])" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/></td>
                                <td style="text-align:right; border-right: 1px solid lightgray"><t t-esc="float(price['price_total'])" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/></td>
                            </tr>
                        </t>
                    </t>
                </t>
                <t t-else="">
                    <!-- Itinerary yg dari JSON (Hotel, Activity) -->
                    <t t-foreach="doc['price_detail']" t-as="price">
                        <tr style="border-bottom: 1px solid lightgray">
                            <td style="border-right: 1px solid lightgray"><t t-esc="price['pax_type']"/></td>
                            <td style="text-align:right; border-right: 1px solid lightgray"><t t-esc="price['qty']"/></td>
                            <td style="text-align:right; border-right: 1px solid lightgray">@<t t-esc="price['fare']" t-options='{"widget": "monetary", "display_currency": currency_id}'/></td>
                            <td style="text-align:right; border-right: 1px solid lightgray"><t t-esc="price['tax']" t-options='{"widget": "monetary", "display_currency": currency_id}'/></td>
                            <td style="text-align:right;"><t t-esc="(float(price['fare']) + float(price['tax']))" t-options='{"widget": "monetary", "display_currency": currency_id}'/></td>
                        </tr>
                    </t>
                </t>
            </table>
        </t>
    </template>

    <template id="itinerary_price_detail_per_pax">
        <br/>
<!--        <span style="font-size: 28px; font-weight: 730">Price Detail(s)</span><br/>-->
<!--        <table width="100%">-->
<!--            <thead style="border-bottom: 1px solid black; font-size:18px; text-align:center;">-->
<!--                <td><b>Pax Type</b></td>-->
<!--                <td><b>Qty</b></td>-->
<!--                <td><b>Total per Pax</b></td>-->
<!--                <td><b>Total</b></td>-->
<!--            </thead>-->
<!--            <t t-if="price_lines">-->
<!--                &lt;!&ndash; Itinerary yg dari Record Backend (Airline, train) &ndash;&gt;-->
<!--                <t t-foreach="price_lines[doc.id]" t-as="price">-->
<!--                    <t t-if="price">-->
<!--                        <tr style="border-bottom: 1px solid lightgray">-->
<!--                            <td style="text-align:center; border-right: 1px solid lightgray"><t t-esc="price['pax_type']"/></td>-->
<!--                            <td style="text-align:right; border-right: 1px solid lightgray"><t t-esc="price['qty']"/></td>-->
<!--                            <td style="text-align:right; border-right: 1px solid lightgray">@<t t-esc="float(price['price_per_pax'])" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/></td>-->
<!--                            <td style="text-align:right; border-right: 1px solid lightgray"><t t-esc="float(price['price_total'])" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/></td>-->
<!--                        </tr>-->
<!--                    </t>-->
<!--                </t>-->
<!--            </t>-->
<!--            <t t-else="">-->
<!--                &lt;!&ndash; Itinerary yg dari JSON (Hotel, Activity) &ndash;&gt;-->
<!--                <t t-foreach="doc['price_detail']" t-as="price">-->
<!--                    <tr style="border-bottom: 1px solid lightgray">-->
<!--                        <td style="border-right: 1px solid lightgray"><t t-esc="price['pax_type']"/></td>-->
<!--                        <td style="text-align:right; border-right: 1px solid lightgray"><t t-esc="price['qty']"/></td>-->
<!--                        <td style="text-align:right; border-right: 1px solid lightgray">@<t t-esc="price['fare']" t-options='{"widget": "monetary", "display_currency": currency_id}'/></td>-->
<!--                        <td style="text-align:right; border-right: 1px solid lightgray"><t t-esc="price['tax']" t-options='{"widget": "monetary", "display_currency": currency_id}'/></td>-->
<!--                        <td style="text-align:right;"><t t-esc="(float(price['fare']) + float(price['tax']))" t-options='{"widget": "monetary", "display_currency": currency_id}'/></td>-->
<!--                    </tr>-->
<!--                </t>-->
<!--            </t>-->
<!--        </table>-->
        <t t-if="with_price">
            <span style="font-size: 28px; font-weight: 730">Grand Total</span><br/>
            <table width="100%">
                <thead style="border-bottom: 1px solid black; font-size:18px; text-align:center;">
                    <td style="text-align:left;"><b>Name</b></td>
                    <td style="text-align:right;"><b>Price</b></td>
                </thead>
                <t t-if="price_breakdown">
                    <t t-foreach="price_breakdown" t-as="svc">
                        <tr>
                            <td style="text-align:left;">
                                <t t-esc="svc"/>
                            </td>
                            <td style="text-align:right;">
                                <t t-esc="float(price_breakdown[svc])" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/>
                            </td>
                        </tr>
                    </t>
                </t>
                <t t-if="discount_value">
                    <tr>
                        <td style="text-align:left;">Discount</td>
                        <td style="text-align:right;">
                            <t t-esc="float(discount_value)" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/>
                        </td>
                    </tr>
                </t>
                <tr>
                    <td style="text-align:left;">Grand Total</td>
                    <td style="text-align:right;">
                        <t t-esc="float(customer_grand_total)" t-options='{"widget": "monetary", "display_currency": doc.currency_id}'/>
                    </td>
                </tr>
            </table>
        </t>
        <br/>
    </template>

    <template id="reservation_airline_content_view_1">
        <!-- Main Params -->
        <div class="row">
            <div class="col-12">
                <t t-foreach="doc.provider_booking_ids" t-as="provider_itin_id">
                    <span style="font-size: 28px; font-weight: 730">Itinerary Detail(s)</span><br/>
                    <table class="table table-sm" style="text-align:center;">
                        <thead>
                            <tr>
                                <th>PNR</th>
                                <th>Departure</th>
                                <th>Arrival</th>
                                <th>Carrier</th>
                                <th>Flight</th>
                                <!--                                <th>Departure Date</th>-->
                                <!--                                <th>Arrival Date</th>-->
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="doc.segment_ids.filtered(lambda x:x.pnr == provider_itin_id.pnr)" t-as="provider_segment_id">
                                <tr>
                                    <td><span t-field="provider_segment_id.pnr"/></td>
                                    <td>
                                        <span t-field="provider_segment_id.origin_id.city"/> (<span t-field="provider_segment_id.origin_id.code"/>)<br/>
                                        <span t-field="provider_segment_id.origin_id.name"/><br/>
                                        <span t-esc="time.strftime('%d %b %Y %H:%M', time.strptime(provider_segment_id.departure_date[:16],'%Y-%m-%d %H:%M'))"/>
                                    </td>
                                    <td>
                                        <span t-field="provider_segment_id.destination_id.city"/> (<span t-field="provider_segment_id.destination_id.code"/>)<br/>
                                        <span t-field="provider_segment_id.destination_id.name"/><br/>
                                        <span t-esc="time.strftime('%d %b %Y %H:%M', time.strptime(provider_segment_id.arrival_date[:16],'%Y-%m-%d %H:%M'))"/>
                                    </td>
                                    <td><span t-field="provider_segment_id.carrier_id.name"/></td>
                                    <td><span t-field="provider_segment_id.name"/></td>
                                    <!--                                    <td><span t-field="provider_segment_id.departure_date" t-options ='{"format": "dd/MM/yyyy HH:mm:ss"}'/></td>-->
                                    <!--                                    <td><span t-esc="time.strftime('%d %b %Y %H:%M', time.strptime(provider_segment_id.departure_date[:16],'%Y-%m-%d %H:%M'))"/></td>-->
                                    <!--                                    <td><span t-esc="time.strftime('%d %b %Y %H:%M', time.strptime(provider_segment_id.arrival_date[:16],'%Y-%m-%d %H:%M'))"/></td>-->
                                </tr>
                            </t>
                        </tbody>
                    </table>

                    <span style="font-size: 28px; font-weight: 730">Passenger Detail(s)</span><br/>
                    <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                        <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                            <div class="col-1" style="text-align: center; font-size:17px;">
                                No.
                            </div>
                            <div class="col-4" style="text-align: center; font-size:17px;">
                                Name
                            </div>
                            <div class="col-2" style="text-align: right; font-size:17px; padding-right: 30px;">
                                Birth Date
                            </div>
                            <div class="col-2" style="text-align: center; font-size:17px;">
                                Pax
                            </div>
                            <div class="col-3" style="text-align: center; font-size:17px;">
                                Facility(s)
                            </div>
                        </div>
                        <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                        <t t-set="psg_index" t-value="0"/>
                        <t t-foreach="provider_itin_id.ticket_ids" t-as="psg">
                            <div class="row" style="margin-left: 0px; margin-right: 0px">
                                <div class="col-1" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-esc="psg_index+1"/>.</label>
                                </div>
                                <div class="col-4" style="text-align: left">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.passenger_id.title"/> <span t-field="psg.passenger_id.name"/></label>
                                </div>
                                <div class="col-2" style="text-align: right">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.passenger_id.birth_date" t-options ='{"format": "dd MMM yyyy"}'/></label>
                                </div>
                                <div class="col-2" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.pax_type"/></label>
                                </div>
                                <div class="col-3" style="text-align: center">
                                    <!-- Same Logic as printout_ticket_airline_template.xml; Func airline_pax_ssr -->
                                    <t t-set="any_ssr" t-value="0"/>
                                    <t t-set="data_pax" t-value="psg.passenger_id"/>
                                    <!--<t t-if="data_pax.fee_ids">--> <!--SSR DI PINDAH KE BAWAH-->
                                    <!--<t t-set="any_ssr" t-value="1"/>-->
                                    <!--<t t-foreach="data_pax.fee_ids" t-as="fee_id">-->
                                    <!--&lt;!&ndash;<i style="margin-right:3px;" class="fa fa-suitcase"> <span t-field="fee_id.name"/></i><br/>&ndash;&gt;-->
                                    <!--<i style="margin-right:3px;" t-att-class="fee_id.category_icon"> <span t-field="fee_id.name"/></i><br/>-->
                                    <!--&lt;!&ndash;<i style="margin-right:3px;" class="fa fa-cutlery"/>&ndash;&gt;-->
                                    <!--&lt;!&ndash;<i style="margin-right:3px;" class="fa fa-wheelchair"/>&ndash;&gt;-->
                                    <!--</t>-->
                                    <!--</t>-->
                                    <t t-foreach="doc.segment_ids.filtered(lambda x:x.pnr == provider_itin_id.pnr)" t-as="provider_segment_id">
                                        <t t-if="provider_segment_id.segment_addons_ids">
                                            <t t-set="any_ssr" t-value="1"/>
                                            <t t-foreach="provider_segment_id.segment_addons_ids" t-as="addons_obj">
                                                <i style="margin-right:3px;" class="fa fa-suitcase"> <span t-field="addons_obj.amount"/> <span t-field="addons_obj.unit"/></i><br/>
                                            </t>
                                        </t>
                                    </t>
                                    <t t-if="any_ssr == 0 ">
                                        -
                                    </t>
                                    <!-- Same Logic as printout_ticket_airline_template.xml; Func airline_pax_ssr -->
                                </div>
                            </div>
                        </t>
                        <div style="margin-bottom: 5px"/>
                    </div>
                </t>

                <t t-set="any_ssr" t-value="0"/>
                <t t-foreach="doc.provider_booking_ids" t-as="provider_itin_id">
                    <t t-foreach="provider_itin_id.ticket_ids" t-as="psg">

                        <!-- Same Logic as printout_ticket_airline_template.xml; Func airline_pax_ssr -->
                        <t t-set="journey_pick" t-value=""/>
                        <t t-set="data_pax" t-value="psg.passenger_id"/>
                        <t t-if="data_pax.fee_ids">
                            <t t-set="any_ssr" t-value="1"/>
                        </t>
                    </t>
                </t>

                <t t-if="any_ssr">
                    <span style="font-size: 28px; font-weight: 730">SSR</span><br/>
                        <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                            <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                                <div class="col-1" style="text-align: center; font-size:17px;">
                                    No.
                                </div>
                                <div class="col-4" style="text-align: center; font-size:17px;">
                                    Name
                                </div>
                                <div class="col-2" style="text-align: center; font-size:17px; padding-right: 30px;">
                                    SSR
                                </div>
                                <div class="col-2" style="text-align: center; font-size:17px;">
                                    Description
                                </div>
                                <div class="col-3" style="text-align: right; font-size:17px;">
                                    Journey
                                </div>
                            </div>
                            <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                    <t t-foreach="doc.provider_booking_ids" t-as="provider_itin_id">
                        <t t-foreach="provider_itin_id.ticket_ids" t-as="psg">

                            <!-- Same Logic as printout_ticket_airline_template.xml; Func airline_pax_ssr -->
                            <t t-set="any_ssr" t-value="0"/>
                            <t t-set="journey_pick" t-value=""/>
                            <t t-set="data_pax" t-value="psg.passenger_id"/>
                            <t t-if="data_pax.fee_ids">
                                <t t-set="any_ssr" t-value="1"/>
                                <t t-foreach="data_pax.fee_ids" t-as="fee_id">
                                    <div class="row" style="margin-left: 0px; margin-right: 0px">
                                        <div class="col-1" style="text-align: center">
                                            <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-esc="psg_index+1"/>.</label>
                                        </div>
                                        <div class="col-4" style="text-align: center">
                                            <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.passenger_id.title"/> <span t-field="psg.passenger_id.name"/></label>
                                        </div>
                                        <div class="col-2" style="text-align: center">
                                            <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="fee_id.category"/></label>
                                        </div>
                                        <div class="col-2" style="text-align: center">
                                            <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="fee_id.name"/></label>
                                        </div>
                                        <div class="col-3" style="text-align: right">
                                            <t t-foreach="provider_itin_id.journey_ids" t-as="data_journey">
                                                <t t-if="data_journey.journey_code == fee_id.journey_code">
                                                    <t t-set="journey_pick" t-value="data_journey"/>
                                                </t>
                                                <t t-foreach="data_journey.segment_ids" t-as="data_segment">
                                                    <t t-if="data_segment.segment_code == fee_id.journey_code">
                                                        <t t-set="journey_pick" t-value="data_segment"/>
                                                    </t>
                                                </t>
                                            </t>
                                            <t t-if="journey_pick">
                                                <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="journey_pick.origin_id.code"/> - <span t-field="journey_pick.destination_id.code"/></label>
                                            </t>
                                            <t t-else="">
                                                <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;">-</label>
                                            </t>
                                        </div>
                                    </div>
                                </t>
                            </t>
                        </t>
                    </t>
                    </div>
                </t>
            </div>
        </div>
    </template>

    <template id="reservation_airline_content_view">
        <!-- Main Params -->
        <div class="row">
            <div class="col-12">
                <span style="font-size: 28px; font-weight: 730">Itinerary Detail(s)</span><br/>
                <table class="table table-sm" style="text-align:center;">
                    <thead>
                        <tr>
                            <th>PNR</th>
                            <th>Departure</th>
                            <th>Arrival</th>
                            <th>Carrier</th>
                            <th>Flight</th>
                            <!--                                <th>Departure Date</th>-->
                            <!--                                <th>Arrival Date</th>-->
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="doc.provider_booking_ids" t-as="provider_itin_id">
                            <t t-foreach="doc.segment_ids.filtered(lambda x:x.pnr == provider_itin_id.pnr)" t-as="provider_segment_id">
                                <tr>
                                    <td>
                                        <span t-field="provider_segment_id.pnr"/>
                                        <t t-if="provider_segment_id.pnr != provider_itin_id.reference">
                                            <br/><span t-field="provider_itin_id.reference"/>
                                        </t>
                                    </td>
                                    <td>
                                        <span t-field="provider_segment_id.origin_id.city"/> (<span t-field="provider_segment_id.origin_id.code"/>)<br/>
                                        <span t-field="provider_segment_id.origin_id.name"/><br/>
                                        <span t-esc="time.strftime('%d %b %Y %H:%M', time.strptime(provider_segment_id.departure_date[:16],'%Y-%m-%d %H:%M'))"/>
                                    </td>
                                    <td>
                                        <span t-field="provider_segment_id.destination_id.city"/> (<span t-field="provider_segment_id.destination_id.code"/>)<br/>
                                        <span t-field="provider_segment_id.destination_id.name"/><br/>
                                        <span t-esc="time.strftime('%d %b %Y %H:%M', time.strptime(provider_segment_id.arrival_date[:16],'%Y-%m-%d %H:%M'))"/>
                                    </td>
                                    <td><span t-field="provider_segment_id.carrier_id.name"/></td>
                                    <td><span t-field="provider_segment_id.name"/></td>
                                    <!--                                    <td><span t-field="provider_segment_id.departure_date" t-options ='{"format": "dd/MM/yyyy HH:mm:ss"}'/></td>-->
                                    <!--                                    <td><span t-esc="time.strftime('%d %b %Y %H:%M', time.strptime(provider_segment_id.departure_date[:16],'%Y-%m-%d %H:%M'))"/></td>-->
                                    <!--                                    <td><span t-esc="time.strftime('%d %b %Y %H:%M', time.strptime(provider_segment_id.arrival_date[:16],'%Y-%m-%d %H:%M'))"/></td>-->
                                </tr>
                            </t>
                        </t>
                    </tbody>
                </table>

                <span style="font-size: 28px; font-weight: 730">Passenger Detail(s)</span><br/>
                <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                    <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                        <div class="col-1" style="text-align: center; font-size:17px;">
                            No.
                        </div>
                        <div class="col-6" style="text-align: center; font-size:17px;">
                            Name
                        </div>
                        <div class="col-3" style="text-align: center; font-size:17px;">
                            Facility(s)
                        </div>
                        <t t-if="with_price">
                            <div class="col-2" style="text-align: center; font-size:17px;">
                                Price
                            </div>
                        </t>
                    </div>
                    <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                    <t t-set="psg_index" t-value="0"/>
                    <t t-set="psg_line" t-value="1"/>
                    <t t-foreach="price_lines[doc.id]" t-as="psg">
                        <t t-set="curr_psg_line" t-value="1"/>
                        <div class="row" style="margin-left: 0px; margin-right: 0px">
                            <div class="col-1" style="text-align: center">
                                <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-esc="psg_index+1"/>.</label>
                            </div>
                            <t t-if="psg.get('passenger_id')">
                                <t t-set="data_pax" t-value="psg['passenger_id']"/>
                            </t>
                            <div class="col-6" style="text-align: center;">
                                <div class="row">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;">
                                        <t t-if="data_pax">
                                            <span t-field="data_pax.title"/>
                                        </t>
                                        <span t-esc="psg['name']"/>
                                    </label>
                                    (<label style="font-weight:300; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-esc="psg['pax_type']"/></label>)
                                </div>
                                <div class="row">
                                    <t t-if="data_pax">
                                        <t t-if="data_pax.frequent_flyer_ids">
                                          <t t-foreach="data_pax.frequent_flyer_ids" t-as="ff_id">
                                            - <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="ff_id.loyalty_program_id.name"/>: <span t-field="ff_id.ff_number"/></label><br/>
                                            <t t-set="curr_psg_line" t-value="curr_psg_line+1"/>
                                          </t>
                                        </t>
                                    </t>
                                </div>
                            </div>
                            <div class="col-3" style="text-align: center; overflow-wrap: break-word;">
                                <t t-set="ssr_line" t-value="0"/>
                                <t t-if="psg['add_ssr'] or psg['inc_ssr']">
                                    <!-- Same Logic as printout_ticket_airline_template.xml; Func airline_pax_ssr -->
                                    <t t-foreach="psg['inc_ssr']" t-as="add_ssr">
                                        <t t-set="ssr_line" t-value="ssr_line+1"/>
                                        <i style="margin-right:3px;" class="fa fa-suitcase"> <span t-esc="add_ssr['name']"/></i><br/>
                                    </t>
                                    <t t-foreach="psg['add_ssr']" t-as="add_ssr">
                                            <!--<t t-if="add_ssr['category_icon']">-->
                                                <!--<i style="margin-right:3px;" t-class="add_ssr['category_icon']"> <span t-esc="add_ssr['name']"/></i><br/>-->
                                            <!--</t>-->
                                            <!--<t t-else="">-->
                                        <t t-set="ssr_line" t-value="ssr_line+1"/>
                                        <i style="margin-right:3px;" class="fa fa-suitcase"> <span t-esc="add_ssr['name']"/></i><br/>
                                            <!--</t>-->
                                    </t>
                                </t>
                                <t t-else="">-</t>
                                <t t-if="ssr_line > curr_psg_line">
                                    <t t-set="curr_psg_line" t-value="ssr_line"/>
                                </t>
                            </div>
                            <t t-if="with_price">
                                <div class="col-2" style="text-align: right; overflow-wrap: break-word;">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-esc="psg['price_total']" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}"/></label>
                                </div>
                            </t>
                        </div>
                        <t t-set="psg_line" t-value="curr_psg_line+psg_line"/>
                        <t t-if="psg_line%20==0">
                            <div style="page-break-after: always;"/>
                            <t t-set="psg_line" t-value="0"/>
                        </t>
                    </t>
                    <div style="margin-bottom: 5px"/>
                </div>
            </div>
        </div>
    </template>

    <template id="reservation_train_content_view">
        <!-- Main Params -->
        <div class="row">
            <div class="col-12">
                <t t-foreach="doc.provider_booking_ids" t-as="provider_itin_id">
                    <span style="font-size: 28px; font-weight: 730">Itinerary Detail(s)</span><br/>
                    <table class="table table-sm" style="text-align:center;">
                        <thead>
                            <tr>
                                <th>PNR</th>
                                <th>Departure</th>
                                <th>Arrival</th>
                                <th>Carrier</th>
                                <!--                                <th>Flight</th>-->
                                <!--                                <th>Departure Date</th>-->
                                <!--                                <th>Arrival Date</th>-->
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="doc.journey_ids.filtered(lambda x:x.pnr == provider_itin_id.pnr)" t-as="provider_journey_id">
                                <tr>
                                    <td><span t-field="provider_journey_id.pnr"/></td>
                                    <td>
                                        <span t-field="provider_journey_id.origin_id.name"/><br/>
                                        <span t-esc="time.strftime('%d %b %Y %H:%M', time.strptime(provider_journey_id.departure_date[:16],'%Y-%m-%d %H:%M'))"/>
                                    </td>
                                    <td>
                                        <span t-field="provider_journey_id.destination_id.name"/><br/>
                                        <span t-esc="time.strftime('%d %b %Y %H:%M', time.strptime(provider_journey_id.arrival_date[:16],'%Y-%m-%d %H:%M'))"/>
                                    </td>
                                    <td><span t-field="provider_journey_id.carrier_id.name"/></td>
                                    <!--                                    <td><span t-field="provider_journey_id.name"/></td>-->
                                    <!--                                    <td><span t-field="provider_segment_id.departure_date" t-options ='{"format": "dd/MM/yyyy HH:mm:ss"}'/></td>-->
                                    <!--                                    <td><span t-esc="time.strftime('%d %b %Y %H:%M', time.strptime(provider_segment_id.departure_date[:16],'%Y-%m-%d %H:%M'))"/></td>-->
                                    <!--                                    <td><span t-esc="time.strftime('%d %b %Y %H:%M', time.strptime(provider_segment_id.arrival_date[:16],'%Y-%m-%d %H:%M'))"/></td>-->
                                </tr>
                            </t>
                        </tbody>
                    </table>

                    <span style="font-size: 28px; font-weight: 730">Passenger Detail(s)</span><br/>
                    <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                        <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                            <div class="col-1" style="text-align: center; font-size:17px;">
                                No.
                            </div>
                            <div class="col-4" style="text-align: center; font-size:17px;">
                                Name
                            </div>
                            <div class="col-2" style="text-align: right; font-size:17px; padding-right: 30px;">
                                Birth Date
                            </div>
                            <div class="col-2" style="text-align: center; font-size:17px;">
                                Pax
                            </div>
                            <div class="col-3" style="text-align: center; font-size:17px;">
                                Facility(s)
                            </div>
                        </div>
                        <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                        <t t-set="psg_index" t-value="0"/>
                        <t t-foreach="provider_itin_id.ticket_ids" t-as="psg">
                            <div class="row" style="margin-left: 0px; margin-right: 0px">
                                <div class="col-1" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-esc="psg_index+1"/>.</label>
                                </div>
                                <div class="col-4" style="text-align: left">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.passenger_id.title"/> <span t-field="psg.passenger_id.name"/></label>
                                </div>
                                <div class="col-2" style="text-align: right">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.passenger_id.birth_date" t-options ='{"format": "dd MMM yyyy"}'/></label>
                                </div>
                                <div class="col-2" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.pax_type"/></label>
                                </div>
                                <div class="col-3" style="text-align: center">
                                    -
                                    <!--<i style="margin-right:3px;" class="fa fa-suitcase"/>-->
                                    <!--<i style="margin-right:3px;" class="fa fa-cutlery"/>-->
                                    <!--<i style="margin-right:3px;" class="fa fa-wheelchair"/>-->
                                </div>
                            </div>
                        </t>
                        <div style="margin-bottom: 5px"/>
                    </div>
                </t>
            </div>
        </div>
    </template>

    <template id="activity_itinerary_view">
        <!-- Main Params -->
        <div class="row">
            <div class="col-12">
                <t t-foreach="doc.provider_booking_ids" t-as="provider_itin_id">
                    <span style="font-size: 28px; font-weight: 730">Reservation Detail(s)</span><br/>
                    <table class="table table-sm" style="text-align:center;">
                        <thead>
                            <tr>
                                <th>PNR</th>
                                <th>Visit Date</th>
                                <th>Time Slot</th>
                                <th>Activity Title</th>
                                <th>Product Type</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="provider_itin_id.activity_detail_ids" t-as="activity_details">
                                <tr>
                                    <td><span t-field="provider_itin_id.pnr"/></td>
                                    <!--Jadi nya MM/DD/YYYY-->
                                    <!--<td><span t-field="provider_itin_id.visit_date" t-options="{'widget': 'date'}"/></td> -->
                                    <td><span t-esc="activity_details.visit_date.strftime('%d %B %Y')"/></td>
                                    <td><t t-if="activity_details.timeslot"><span t-field="activity_details.timeslot"/></t><t t-else=""><span>-</span></t></td>
                                    <td><span t-field="activity_details.activity_id.name"/><br/></td>
                                    <td><span t-field="activity_details.activity_product_id.name"/></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>

                    <span style="font-size: 28px; font-weight: 730">Product Info</span><br/>
                    <table class="table table-sm" style="text-align:center;">
                        <thead>
                            <tr>
                                <th>Product Type</th>
                                <th>Details</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="provider_itin_id.activity_detail_ids" t-as="activity_details">
                                <tr>
                                    <td><span t-field="activity_details.activity_product_id.name"/></td>
                                    <td><span t-field="activity_details.activity_product_id.description"/></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>

                    <span style="font-size: 28px; font-weight: 730">Guest Detail(s)</span><br/>
                    <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                        <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                            <div class="col-1" style="text-align: center; font-size:17px;">
                                No.
                            </div>
                            <div class="col-4" style="text-align: center; font-size:17px;">
                                Name
                            </div>
                            <div class="col-2" style="text-align: right; font-size:17px; padding-right: 30px;">
                                Birth Date
                            </div>
                            <div class="col-2" style="text-align: center; font-size:17px;">
                                Pax
                            </div>
                            <div class="col-3" style="text-align: center; font-size:17px;">
                                Ticket
                            </div>
                        </div>
                        <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                        <t t-set="psg_index" t-value="0"/>
                        <t t-foreach="provider_itin_id.ticket_ids" t-as="psg">
                            <div class="row" style="margin-left: 0px; margin-right: 0px">
                                <div class="col-1" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-esc="psg_index+1"/>.</label>
                                </div>
                                <div class="col-4" style="text-align: left">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.passenger_id.title"/> <span t-field="psg.passenger_id.name"/></label>
                                </div>
                                <div class="col-2" style="text-align: right">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.passenger_id.birth_date" t-options ='{"format": "dd MMM yyyy"}'/></label>
                                </div>
                                <div class="col-2" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.pax_type"/></label>
                                </div>
                                <div class="col-3" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.ticket_number"/></label>
                                </div>
                            </div>
                        </t>
                        <div style="margin-bottom: 5px"/>
                    </div>
                </t>
            </div>
        </div>
    </template>

    <template id="event_itinerary_view">
        <!-- Main Params -->
        <div class="row">
            <div class="col-12">
                <t t-foreach="doc.provider_booking_ids" t-as="provider_itin_id">
                    <span style="font-size: 28px; font-weight: 730">Reservation Detail(s)</span><br/>
                    <table class="table table-sm" style="text-align:center;">
                        <thead>
                            <tr>
                                <th>PNR</th>
                                <th>Event Name</th>
                                <th>Event Type</th>
                                <th>Event Time</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span t-field="provider_itin_id.pnr"/></td>
                                <td><span t-field="provider_itin_id.event_id.name"/></td>
                                <td><span t-field="provider_itin_id.event_id.event_type"/></td>
                                <td>
                                    <span t-field="provider_itin_id.event_id.event_date_start" t-options ='{"format": "dd-mm-yyyy HH:MM:SS"}'/>
                                    - <span t-field="provider_itin_id.event_id.event_date_end" t-options ='{"format": "dd-mm-yyyy HH:MM:SS"}'/>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <span style="font-size: 28px; font-weight: 730">Event Option(s)</span><br/>
                    <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                        <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                            <div class="col-5" style="text-align: center; font-size:17px;">
                                Ticket Number
                            </div>
                            <div class="col-3" style="text-align: center; font-size:17px;">
                                Event Option
                            </div>
                            <div class="col-4" style="text-align: center; font-size:17px;">
                                Description
                            </div>
                        </div>
                        <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                        <t t-foreach="doc.option_ids" t-as="option">
                            <div class="row" style="margin-left: 0px; margin-right: 0px">
                                <div class="col-5" style="text-align: center;">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;">
                                        <span t-field="option.ticket_number"/>
                                    </label>
                                </div>
                                <div class="col-3" style="text-align: center;">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;">
                                        <span t-field="option.event_option_id.grade"/>
                                    </label>
                                </div>
                                <div class="col-4" style="text-align: center;">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;">
                                        <span t-field="option.description"/>
                                    </label>
                                </div>
                            </div>
                        </t>
                        <div style="margin-bottom: 5px"/>
                    </div>
                </t>
            </div>
        </div>
    </template>

    <template id="hotel_itinerary_content_view">
        <div class="row">
            <div class="col-12">
                <span style="font-size: 28px; font-weight: 730">Reservation Detail(s)</span><br/>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <t t-foreach="doc.room_detail_ids" t-as="provider_itin_id">
                    <table class="table table-sm" style="text-align:center;">
                        <thead>
                            <tr>
                                <th>Voucher No.</th>
                                <th>Check In</th>
                                <th>Check Out</th>
                                <th>Room Name</th>
                                <th>Meal Type</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span t-field="provider_itin_id.issued_name"/></td>
                                <td><span t-field="doc.checkin_date"/></td>
                                <td><span t-field="doc.checkout_date"/></td>
                                <td><span t-field="provider_itin_id.room_name"/><br/></td>
                                <td><span t-field="provider_itin_id.room_type"/></td>
                            </tr>
                        </tbody>
                    </table>
                </t>
                <span style="font-size: 28px; font-weight: 730">Guest Detail(s)</span><br/>
                <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                    <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                        <div class="col-1" style="text-align: center; font-size:17px;">
                            No.
                        </div>
                        <div class="col-4" style="text-align: center; font-size:17px;">
                            Name
                        </div>
                        <div class="col-4" style="text-align: right; font-size:17px; padding-right: 30px;">
                            Birth Date
                        </div>
                        <div class="col-3" style="text-align: center; font-size:17px;">
                            Pax
                        </div>
                    </div>
                    <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                    <t t-set="psg_index" t-value="0"/>
                    <t t-foreach="doc.passenger_ids" t-as="psg">
                        <div class="row" style="margin-left: 0px; margin-right: 0px">
                            <div class="col-1" style="text-align: center">
                                <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-esc="psg_index+1"/>.</label>
                            </div>
                            <div class="col-4" style="text-align: left">
                                <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;">
                                    <t t-if="psg.name">
                                        <span t-field="psg.name"/>
                                    </t>
                                    <t t-else="">
                                        <span t-field="psg.first_name"/> <span t-field="psg.last_name"/>
                                    </t>
                                </label>
                            </div>
                            <div class="col-4" style="text-align: right">
                                <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.birth_date" t-options ='{"format": "dd MMM yyyy"}'/></label>
                            </div>
                            <div class="col-3" style="text-align: center">
                                <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.gender"/></label>
                            </div>
                        </div>
                    </t>
                    <div style="margin-bottom: 5px"/>
                </div>
            </div>
        </div>
    </template>

    <template id="tour_itinerary_view">
        <!-- Main Params -->
        <div class="row">
            <div class="col-12">
                <t t-foreach="doc.provider_booking_ids" t-as="provider_itin_id">
                    <span style="font-size: 28px; font-weight: 730">Reservation Detail(s)</span><br/>
                    <table class="table table-sm" style="text-align:center;">
                        <thead>
                            <tr>
                                <th>PNR</th>
                                <th>Departure Date</th>
                                <th>Arrival Date</th>
                                <th>Tour Name</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span t-field="provider_itin_id.pnr"/></td>
                                <!--Jadi nya MM/DD/YYYY-->
                                <!--<td><span t-field="provider_itin_id.visit_date" t-options="{'widget': 'date'}"/></td> -->
                                <td>
                                    <t t-if="provider_itin_id.departure_date">
                                        <span t-esc="provider_itin_id.departure_date.strftime('%d %B %Y')"/>
                                    </t>
                                </td>
                                <td>
                                    <t t-if="provider_itin_id.arrival_date">
                                        <span t-esc="provider_itin_id.arrival_date.strftime('%d %B %Y')"/>
                                    </t>
                                </td>
                                <td><span t-field="provider_itin_id.tour_id.name"/><br/></td>
                            </tr>
                        </tbody>
                    </table>

                    <span style="font-size: 28px; font-weight: 730">Guest Detail(s)</span><br/>
                    <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                        <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                            <div class="col-1" style="text-align: center; font-size:17px;">
                                No.
                            </div>
                            <div class="col-4" style="text-align: center; font-size:17px;">
                                Name
                            </div>
                            <div class="col-4" style="text-align: right; font-size:17px; padding-right: 30px;">
                                Birth Date
                            </div>
                            <div class="col-3" style="text-align: center; font-size:17px;">
                                Pax
                            </div>
                        </div>
                        <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                        <t t-set="psg_index" t-value="0"/>
                        <t t-foreach="doc.passenger_ids" t-as="psg">
                            <div class="row" style="margin-left: 0px; margin-right: 0px">
                                <div class="col-1" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-esc="psg_index+1"/>.</label>
                                </div>
                                <div class="col-4" style="text-align: left">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.name"/></label>
                                </div>
                                <div class="col-4" style="text-align: right">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.birth_date" t-options ='{"format": "dd MMM yyyy"}'/></label>
                                </div>
                                <div class="col-3" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.gender"/></label>
                                </div>
                            </div>
                        </t>
                        <div style="margin-bottom: 5px"/>
                    </div>
                </t>
            </div>
        </div>
    </template>

    <template id="passport_itinerary_view">
        <!-- Main Params -->
        <div class="row">
            <div class="col-12">
                <t t-foreach="doc.provider_booking_ids" t-as="provider_itin_id">
                    <span style="font-size: 28px; font-weight: 730">Reservation Detail(s)</span><br/>
                    <table class="table table-sm" style="text-align:center;">
                        <thead>
                            <tr>
                                <th>PNR</th>
                                <th>Passport Type</th>
                                <th>Apply Type</th>
                                <th>Process Type</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="provider_itin_id.passenger_ids" t-as="psg">
                                <tr>
                                    <td><span t-field="provider_itin_id.pnr"/></td>
                                    <!--Jadi nya MM/DD/YYYY-->
                                    <!--<td><span t-field="provider_itin_id.visit_date" t-options="{'widget': 'date'}"/></td> -->
                                    <td><span t-esc="psg.pricelist_id.passport_type"/></td>
                                    <td><span t-esc="psg.pricelist_id.apply_type"/></td>
                                    <td><span t-esc="psg.pricelist_id.process_type"/></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>

                    <span style="font-size: 28px; font-weight: 730">Passenger Detail(s)</span><br/>
                    <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                        <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                            <div class="col-1" style="text-align: center; font-size:17px;">
                                No.
                            </div>
                            <div class="col-4" style="text-align: center; font-size:17px;">
                                Name
                            </div>
                            <div class="col-4" style="text-align: right; font-size:17px; padding-right: 30px;">
                                Birth Date
                            </div>
                            <div class="col-3" style="text-align: center; font-size:17px;">
                                Pax
                            </div>
                        </div>
                        <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                        <t t-set="psg_index" t-value="0"/>
                        <t t-foreach="doc.passenger_ids" t-as="psg">
                            <div class="row" style="margin-left: 0px; margin-right: 0px">
                                <div class="col-1" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-esc="psg_index+1"/>.</label>
                                </div>
                                <div class="col-4" style="text-align: left">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.name"/></label>
                                </div>
                                <div class="col-4" style="text-align: right">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.birth_date" t-options ='{"format": "dd MMM yyyy"}'/></label>
                                </div>
                                <div class="col-3" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.passenger_type"/></label>
                                </div>
                            </div>
                        </t>
                        <div style="margin-bottom: 5px"/>
                    </div>
                </t>
            </div>
        </div>
    </template>

    <template id="ppob_itinerary_view">
        <t t-if="len(doc.provider_booking_ids) > 0">
            <t t-if="doc.provider_booking_ids[0].carrier_id.name == 'PLN Postpaid'">
                <div class="row">
                    <div class="col-12">
                        <t t-foreach="doc.provider_booking_ids" t-as="provider_itin_id">
                            <span style="font-size: 28px; font-weight: 730">Itinerary Detail(s)</span><br/>
                            <table class="table table-sm" style="text-align:center;">
                                <thead>
                                    <tr>
                                        <th>Period</th>
                                        <th>Tarif/Daya</th>
                                        <th>Before Meter-After Meter</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-foreach="provider_itin_id.ppob_bill_ids" t-as="bill">
                                        <tr>
                                            <td><span t-field="bill.period" t-options='{"format": "MMM yy"}'/></td>
                                            <td><span t-field="provider_itin_id.fare_type"/>/<span t-field="provider_itin_id.power"/> VA</td>
                                            <t t-if="len(bill.meter_history_ids) > 0">
                                                <t t-set="before_meter" t-value="-1"/>
                                                <t t-set="after_meter" t-value="-1"/>
                                                <t t-foreach="bill.meter_history_ids" t-as="meter">
                                                    <t t-if="before_meter == -1">
                                                        <t t-set="before_meter" t-value="meter.before_meter"/>
                                                    </t>
                                                    <t t-else="">
                                                        <t t-if="meter.before_meter &lt; before_meter">
                                                            <t t-set="before_meter" t-value="meter.before_meter"/>
                                                        </t>
                                                    </t>
                                                    <t t-if="after_meter == -1">
                                                        <t t-set="after_meter" t-value="meter.after_meter"/>
                                                    </t>
                                                    <t t-else="">
                                                        <t t-if="meter.after_meter &gt; after_meter">
                                                            <t t-set="after_meter" t-value="meter.after_meter"/>
                                                        </t>
                                                    </t>
                                                </t>
                                                <td>
                                                    <span t-esc="before_meter"/>-<span t-esc="after_meter"/>
                                                </td>
                                            </t>
                                            <t t-else="">
                                                <td>-</td>
                                            </t>
                                        </tr>
                                    </t>
                                </tbody>
                            </table>

                            <span style="font-size: 28px; font-weight: 730">Customer Detail(s)</span><br/>
                            <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                                <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                                    <div class="col-1" style="text-align: center; font-size:17px;">
                                        No.
                                    </div>
                                    <div class="col-6" style="text-align: center; font-size:17px;">
                                        Customer Name
                                    </div>
                                    <div class="col-5" style="text-align: center; font-size:17px;">
                                        Customer Number
                                    </div>
                                </div>
                                <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                                <div class="row" style="margin-left: 0px; margin-right: 0px">
                                    <div class="col-1" style="text-align: center">
                                        <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;">1.</label>
                                    </div>
                                    <div class="col-6" style="text-align: left">
                                        <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="provider_itin_id.customer_name"/></label>
                                    </div>
                                    <div class="col-5" style="text-align: center">
                                        <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="provider_itin_id.customer_number"/></label>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </div>
                </div>
            </t>
            <t t-elif="doc.provider_booking_ids[0].carrier_id.name == 'PLN Prepaid'">
                <div class="row">
                    <div class="col-12">
                        <t t-foreach="doc.provider_booking_ids" t-as="provider_itin_id">
                            <span style="font-size: 28px; font-weight: 730">Itinerary Detail(s)</span><br/>
                            <table class="table table-sm" style="text-align:center;">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Meter Number</th>
                                        <th>Token Number</th>
                                        <th>KWh Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-foreach="provider_itin_id.ppob_bill_ids" t-as="bill">
                                        <tr>
                                            <td><span t-field="bill.period" t-options="{'format': 'MM/dd/yyyy'}"/></td>
                                            <td><span t-field="provider_itin_id.meter_number"/></td>
                                            <td><span t-field="bill.token"/></td>
                                            <td><span t-field="bill.kwh_amount"/></td>
                                        </tr>
                                    </t>
                                </tbody>
                            </table>

                            <span style="font-size: 28px; font-weight: 730">Customer Detail(s)</span><br/>
                            <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                                <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                                    <div class="col-1" style="text-align: center; font-size:17px;">
                                        No.
                                    </div>
                                    <div class="col-6" style="text-align: center; font-size:17px;">
                                        Customer Name
                                    </div>
                                    <div class="col-5" style="text-align: center; font-size:17px;">
                                        Customer Number
                                    </div>
                                </div>
                                <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                                <div class="row" style="margin-left: 0px; margin-right: 0px">
                                    <div class="col-1" style="text-align: center">
                                        <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;">1.</label>
                                    </div>
                                    <div class="col-6" style="text-align: left">
                                        <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="provider_itin_id.customer_name"/></label>
                                    </div>
                                    <div class="col-5" style="text-align: center">
                                        <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="provider_itin_id.customer_number"/></label>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </div>
                </div>
            </t>
            <t t-elif="doc.provider_booking_ids[0].carrier_id.name == 'PLN Non Tagihan'">
                <div class="row">
                    <div class="col-12">
                        <t t-foreach="doc.provider_booking_ids" t-as="provider_itin_id">
                            <span style="font-size: 28px; font-weight: 730">Itinerary Detail(s)</span><br/>
                            <table class="table table-sm" style="text-align:center;">
                                <thead>
                                    <tr>
                                        <th>Transaction Code</th>
                                        <th>Transaction Name</th>
                                        <th>Registration Date</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span t-field="provider_itin_id.transaction_code"/></td>
                                        <td><span t-field="provider_itin_id.transaction_name"/></td>
                                        <td><span t-field="provider_itin_id.registration_date"/></td>
                                    </tr>
                                </tbody>
                            </table>

                            <span style="font-size: 28px; font-weight: 730">Customer Detail(s)</span><br/>
                            <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                                <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                                    <div class="col-1" style="text-align: center; font-size:17px;">
                                        No.
                                    </div>
                                    <div class="col-6" style="text-align: center; font-size:17px;">
                                        Customer Name
                                    </div>
                                    <div class="col-5" style="text-align: center; font-size:17px;">
                                        Customer Number
                                    </div>
                                </div>
                                <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                                <div class="row" style="margin-left: 0px; margin-right: 0px">
                                    <div class="col-1" style="text-align: center">
                                        <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;">1.</label>
                                    </div>
                                    <div class="col-6" style="text-align: left">
                                        <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="provider_itin_id.customer_name"/></label>
                                    </div>
                                    <div class="col-5" style="text-align: center">
                                        <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="provider_itin_id.customer_number"/></label>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </div>
                </div>
            </t>
            <t t-elif="doc.provider_booking_ids[0].carrier_id.name == 'BPJS Kesehatan'">
                <div class="row">
                    <div class="col-12">
                        <t t-foreach="doc.provider_booking_ids" t-as="provider_itin_id">
                            <span style="font-size: 28px; font-weight: 730">Itinerary Detail(s)</span><br/>
                            <table class="table table-sm" style="text-align:center;">
                                <thead>
                                    <tr>
                                        <th>BPJS Ref</th>
                                        <th>VA Number</th>
                                        <th>Number of Participants</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span t-field="provider_itin_id.original_pnr"/></td>
                                        <td><span t-field="provider_itin_id.customer_number"/></td>
                                        <td><span t-esc="len(provider_itin_id.ppob_bill_detail_ids)"/></td>
                                    </tr>
                                </tbody>
                            </table>

                            <span style="font-size: 28px; font-weight: 730">Customer Detail(s)</span><br/>
                            <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                                <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                                    <div class="col-1" style="text-align: center; font-size:17px;">
                                        No.
                                    </div>
                                    <div class="col-4" style="text-align: center; font-size:17px;">
                                        Customer Name
                                    </div>
                                    <div class="col-3" style="text-align: center; font-size:17px;">
                                        Customer Number
                                    </div>
                                    <div class="col-2" style="text-align: center; font-size:17px;">
                                        Unit Code
                                    </div>
                                    <div class="col-2" style="text-align: center; font-size:17px;">
                                        Unit Name
                                    </div>
                                </div>
                                <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                                <t t-set="psg_index" t-value="0"/>
                                <t t-foreach="provider_itin_id.ppob_bill_detail_ids" t-as="bill">
                                    <div class="row" style="margin-left: 0px; margin-right: 0px">
                                        <div class="col-1" style="text-align: center">
                                            <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-esc="psg_index+1"/>.</label>
                                        </div>
                                        <div class="col-4" style="text-align: center">
                                            <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="bill.customer_name"/></label>
                                        </div>
                                        <div class="col-3" style="text-align: center">
                                            <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="bill.customer_number"/></label>
                                        </div>
                                        <div class="col-2" style="text-align: center">
                                            <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="bill.unit_code"/></label>
                                        </div>
                                        <div class="col-2" style="text-align: center">
                                            <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="bill.unit_name"/></label>
                                        </div>
                                    </div>
                                    <t t-set="psg_index" t-value="psg_index + 1"/>
                                </t>
                            </div>
                        </t>
                    </div>
                </div>
            </t>
            <t t-elif="doc.provider_booking_ids[0].carrier_id.name == 'Prepaid Mobile'">
                <div class="row">
                    <div class="col-12">
                        <t t-foreach="doc.provider_booking_ids" t-as="provider_itin_id">
                            <span style="font-size: 28px; font-weight: 730">Itinerary Detail(s)</span><br/>
                            <table class="table table-sm" style="text-align:center;">
                                <thead>
                                    <tr>
                                        <th>Prepaid Mobile</th>
                                        <th>Serial Number</th>
                                        <th>Reference Number</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span t-field="provider_itin_id.transaction_name"/></td>
                                        <td><span t-field="provider_itin_id.original_pnr"/></td>
                                        <td><span t-esc="provider_itin_id.pnr"/></td>
                                    </tr>
                                </tbody>
                            </table>

                            <span style="font-size: 28px; font-weight: 730">Customer Detail(s)</span><br/>
                            <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                                <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                                    <div class="col-1" style="text-align: center; font-size:17px;">
                                        No.
                                    </div>
                                    <div class="col-6" style="text-align: center; font-size:17px;">
                                        Customer Name
                                    </div>
                                    <div class="col-5" style="text-align: center; font-size:17px;">
                                        Phone Number
                                    </div>
                                </div>
                                <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                                <div class="row" style="margin-left: 0px; margin-right: 0px">
                                    <div class="col-1" style="text-align: center">
                                        <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;">1.</label>
                                    </div>
                                    <div class="col-6" style="text-align: left">
                                        <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="provider_itin_id.customer_name"/></label>
                                    </div>
                                    <div class="col-5" style="text-align: center">
                                        <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="provider_itin_id.customer_number"/></label>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </div>
                </div>
            </t>
        </t>
    </template>

    <template id="visa_itinerary_view">
        <!-- Main Params -->
        <div class="row">
            <div class="col-12">
                <t t-foreach="doc.provider_booking_ids" t-as="provider_itin_id">
                    <span style="font-size: 28px; font-weight: 730">Itinerary Detail(s)</span><br/>
                    <table class="table table-sm" style="text-align:center;">
                        <thead>
                            <tr>
                                <th>PNR</th>
                                <th>Country</th>
                                <th>Visa Type</th>
                                <th>Process Type</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="provider_itin_id.passenger_ids" t-as="psg">
                                <tr>
                                    <td><span t-field="provider_itin_id.pnr"/></td>
                                    <!--Jadi nya MM/DD/YYYY-->
                                    <!--<td><span t-field="provider_itin_id.visit_date" t-options="{'widget': 'date'}"/></td> -->
                                    <td><span t-esc="psg.pricelist_id.name"/></td>
                                    <td><span t-esc="psg.pricelist_id.entry_type"/> <span t-esc="psg.pricelist_id.visa_type"/></td>
                                    <td><span t-esc="psg.pricelist_id.process_type"/><br/></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>

                    <span style="font-size: 28px; font-weight: 730">Passenger Detail(s)</span><br/>
                    <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                        <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                            <div class="col-1" style="text-align: center; font-size:17px;">
                                No.
                            </div>
                            <div class="col-4" style="text-align: center; font-size:17px;">
                                Name
                            </div>
                            <div class="col-4" style="text-align: right; font-size:17px; padding-right: 30px;">
                                Birth Date
                            </div>
                            <div class="col-3" style="text-align: center; font-size:17px;">
                                Pax
                            </div>
                        </div>
                        <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                        <t t-set="psg_index" t-value="0"/>
                        <t t-foreach="doc.passenger_ids" t-as="psg">
                            <div class="row" style="margin-left: 0px; margin-right: 0px">
                                <div class="col-1" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-esc="psg_index+1"/>.</label>
                                </div>
                                <div class="col-4" style="text-align: left">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.name"/></label>
                                </div>
                                <div class="col-4" style="text-align: right">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.birth_date" t-options ='{"format": "dd MMM yyyy"}'/></label>
                                </div>
                                <div class="col-3" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.passenger_type"/></label>
                                </div>
                            </div>
                        </t>
                        <div style="margin-bottom: 5px"/>
                    </div>
                </t>
            </div>
        </div>
    </template>

    <template id="periksain_itinerary_view">
        <!-- Main Params -->
        <div class="row">
            <div class="col-12">
                <span style="font-size: 28px; font-weight: 730">Schedule Detail(s)</span><br/>
                <table class="table table-sm" style="text-align:center;">
                    <thead>
                        <tr>
                            <th>PNR</th>
                            <th>Test Type</th>
                            <th>Date Time</th>
                            <th>Address</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="doc.timeslot_ids" t-as="line">
                            <tr>
                                <td><span t-field="doc.name"/></td>
                                <td><span t-field="doc.provider_booking_ids[0].carrier_id.name"/></td>
                                <t t-if="line.timeslot_type == 'drive_thru'">
                                    <td><span t-esc="line.datetimeslot.astimezone(printout_tz).strftime('%Y-%m-%d')"/> (DRIVE THRU 08.00 - 17.00 WIB)</td>
                                </t>
                                <t t-else="">
                                    <td><span t-esc="line.datetimeslot.astimezone(printout_tz).strftime('%Y-%m-%d %H:%M')"/></td>
                                </t>
                                <td><span t-field="doc.test_address"/></td>

                            </tr>
                        </t>
                    </tbody>
                </table>

                <span style="font-size: 28px; font-weight: 730">Pax Detail(s)</span><br/>
                <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                    <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                        <div class="col-1" style="text-align: center; font-size:17px;">
                            No.
                        </div>
                        <div class="col-4" style="text-align: center; font-size:17px;">
                            Name
                        </div>
                        <div class="col-3" style="text-align: center; font-size:17px; padding-right: 30px;">
                            Birth Date
                        </div>
                        <div class="col-4" style="text-align: center; font-size:17px;">
                            Contact
                        </div>
                    </div>
                    <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                    <t t-set="psg_index" t-value="0"/>
                    <t t-foreach="doc.passenger_ids" t-as="psg">
                        <div class="row" style="margin-left: 0px; margin-right: 0px">
                            <div class="col-1" style="text-align: center">
                                <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-esc="psg_index+1"/>.</label>
                            </div>
                            <div class="col-4" style="text-align: left">
                                <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.name"/></label>
                            </div>
                            <div class="col-3" style="text-align: center">
                                <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.birth_date" t-options ='{"format": "dd MMM yyyy"}'/></label>
                            </div>
                            <div class="col-4" style="text-align: left">
                                <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;">Email: <span t-field="psg.email"/></label><br/>
                                <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;">Phone: <span t-field="psg.phone_number"/></label>
                            </div>
                        </div>
                    </t>
                    <div style="margin-bottom: 5px"/>
                </div>
            </div>
        </div>
    </template>

    <template id="medical_itinerary_view">
        <!-- Main Params -->
        <div class="row">
            <div class="col-12">
                <span style="font-size: 28px; font-weight: 730">Schedule Detail(s)</span><br/>
                <table class="table table-sm" style="text-align:center;">
                    <thead>
                        <tr>
                            <th>PNR</th>
                            <th>Test Type</th>
                            <th>Date Time</th>
                            <th>Address</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="doc.timeslot_ids" t-as="line">
                            <tr>
                                <td><span t-field="doc.name"/></td>
                                <td><span t-field="doc.provider_booking_ids[0].carrier_id.name"/></td>
                                <t t-if="line.timeslot_type == 'drive_thru'">
                                    <t t-if="doc.provider_booking_ids[0].carrier_id.code in ['NHDTKPCRR', 'NHDTSPCRR', 'NHDTMPCRR']">
                                        <td><span t-esc="line.datetimeslot.astimezone(printout_tz).strftime('%Y-%m-%d')"/> (24 hours)</td>
                                    </t>
                                    <t t-elif="doc.provider_booking_ids[0].provider_id.code == 'mitrakeluarga'">
                                        <td><span t-esc="line.datetimeslot.astimezone(printout_tz).strftime('%Y-%m-%d')"/> (MON-SAT: 08.00 - 20.00 WIB / SUN: 08.00 - 17.00 WIB)</td>
                                    </t>
                                    <t t-else="">
                                        <td><span t-esc="line.datetimeslot.astimezone(printout_tz).strftime('%Y-%m-%d')"/> (MON-SAT: 08.00 - 20.00 WIB / SUN: 08.00 - 12.00 WIB)</td>
                                    </t>
                                </t>
                                <t t-else="">
                                    <td><span t-esc="line.datetimeslot.astimezone(printout_tz).strftime('%Y-%m-%d %H:%M')"/></td>
                                </t>
                                <td><span t-field="doc.test_address"/></td>
                                <td>-</td>
                            </tr>
                        </t>
                    </tbody>
                </table>

                <span style="font-size: 28px; font-weight: 730">Pax Detail(s)</span><br/>
                <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                    <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                        <div class="col-1" style="text-align: center; font-size:17px;">
                            No.
                        </div>
                        <div class="col-4" style="text-align: center; font-size:17px;">
                            Name
                        </div>
                        <div class="col-3" style="text-align: center; font-size:17px; padding-right: 30px;">
                            Birth Date
                        </div>
                        <div class="col-4" style="text-align: center; font-size:17px;">
                            Contact
                        </div>
                    </div>
                    <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                    <t t-set="psg_index" t-value="0"/>
                    <t t-foreach="doc.passenger_ids" t-as="psg">
                        <div class="row" style="margin-left: 0px; margin-right: 0px">
                            <div class="col-1" style="text-align: center">
                                <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-esc="psg_index+1"/>.</label>
                            </div>
                            <div class="col-4" style="text-align: left">
                                <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.name"/></label>
                            </div>
                            <div class="col-3" style="text-align: center">
                                <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.birth_date" t-options ='{"format": "dd MMM yyyy"}'/></label>
                            </div>
                            <div class="col-4" style="text-align: left">
                                <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;">Email: <span t-field="psg.email"/></label><br/>
                                <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;">Phone: <span t-field="psg.phone_number"/></label>
                            </div>
                        </div>
                    </t>
                    <div style="margin-bottom: 5px"/>
                </div>
            </div>
        </div>
    </template>

    <template id="bus_itinerary_view">
        <!-- Main Params -->
        <div class="row">
            <div class="col-12">
                <t t-foreach="doc.provider_booking_ids" t-as="provider_itin_id">
                    <span style="font-size: 28px; font-weight: 730">Itinerary Detail(s)</span><br/>
                    <table class="table table-sm" style="text-align:center;">
                        <thead>
                            <tr>
                                <th>PNR</th>
                                <th>Booking Code</th>
                                <th>Departure</th>
                                <th>Arrival</th>
                                <th>Carrier</th>
                                <!--                                <th>Flight</th>-->
                                <!--                                <th>Departure Date</th>-->
                                <!--                                <th>Arrival Date</th>-->
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="doc.journey_ids.filtered(lambda x:x.pnr == provider_itin_id.pnr)" t-as="provider_journey_id">
                                <tr>
                                    <td><span t-field="provider_journey_id.pnr"/></td>
                                    <td><span t-field="provider_itin_id.payment_code"/></td>
                                    <td>
                                        <span t-field="provider_journey_id.origin_id.name"/><br/>
                                        <span t-esc="time.strftime('%d %b %Y %H:%M', time.strptime(provider_journey_id.departure_date[:16],'%Y-%m-%d %H:%M'))"/>
                                    </td>
                                    <td>
                                        <span t-field="provider_journey_id.destination_id.name"/><br/>
                                        <span t-esc="time.strftime('%d %b %Y %H:%M', time.strptime(provider_journey_id.arrival_date[:16],'%Y-%m-%d %H:%M'))"/>
                                    </td>
                                    <td><span t-field="provider_journey_id.carrier_id.name"/></td>
                                    <!--                                    <td><span t-field="provider_journey_id.name"/></td>-->
                                    <!--                                    <td><span t-field="provider_segment_id.departure_date" t-options ='{"format": "dd/MM/yyyy HH:mm:ss"}'/></td>-->
                                    <!--                                    <td><span t-esc="time.strftime('%d %b %Y %H:%M', time.strptime(provider_segment_id.departure_date[:16],'%Y-%m-%d %H:%M'))"/></td>-->
                                    <!--                                    <td><span t-esc="time.strftime('%d %b %Y %H:%M', time.strptime(provider_segment_id.arrival_date[:16],'%Y-%m-%d %H:%M'))"/></td>-->
                                </tr>
                            </t>
                        </tbody>
                    </table>

                    <span style="font-size: 28px; font-weight: 730">Passenger Detail(s)</span><br/>
                    <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                        <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                            <div class="col-1" style="text-align: center; font-size:17px;">
                                No.
                            </div>
                            <div class="col-4" style="text-align: center; font-size:17px;">
                                Name
                            </div>
                            <div class="col-2" style="text-align: right; font-size:17px; padding-right: 30px;">
                                Birth Date
                            </div>
                            <div class="col-2" style="text-align: center; font-size:17px;">
                                Pax
                            </div>
                            <div class="col-3" style="text-align: center; font-size:17px;">
                                Facility(s)
                            </div>
                        </div>
                        <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                        <t t-set="psg_index" t-value="0"/>
                        <t t-foreach="provider_itin_id.ticket_ids" t-as="psg">
                            <div class="row" style="margin-left: 0px; margin-right: 0px">
                                <div class="col-1" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-esc="psg_index+1"/>.</label>
                                </div>
                                <div class="col-4" style="text-align: left">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.passenger_id.title"/> <span t-field="psg.passenger_id.name"/></label>
                                </div>
                                <div class="col-2" style="text-align: right">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.passenger_id.birth_date" t-options ='{"format": "dd MMM yyyy"}'/></label>
                                </div>
                                <div class="col-2" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.pax_type"/></label>
                                </div>
                                <div class="col-3" style="text-align: center">
                                    -
                                    <!--<i style="margin-right:3px;" class="fa fa-suitcase"/>-->
                                    <!--<i style="margin-right:3px;" class="fa fa-cutlery"/>-->
                                    <!--<i style="margin-right:3px;" class="fa fa-wheelchair"/>-->
                                </div>
                            </div>
                        </t>
                        <div style="margin-bottom: 5px"/>
                    </div>
                </t>
            </div>
        </div>
    </template>

    <template id="insurance_itinerary_view">
        <!-- Main Params -->
        <div class="row">
            <div class="col-12">
                <t t-foreach="doc.provider_booking_ids" t-as="provider_booking">
                    <span style="font-size: 28px; font-weight: 730">Itinerary Detail(s)</span><br/>
                    <table class="table table-sm" style="text-align:center;">
                        <thead>
                            <tr>
                                <th>PNR</th>
                                <th>Carrier</th>
                                <th>Origin</th>
                                <th>Destination</th>
                                <th>Start</th>
                                <th>End</th>
                                <!--                                <th>Flight</th>-->
                                <!--                                <th>Departure Date</th>-->
                                <!--                                <th>Arrival Date</th>-->
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span t-field="provider_booking.pnr"/></td>
                                <td><span t-field="provider_booking.carrier_id.name"/></td>
                                <td><span t-field="provider_booking.origin"/><br/></td>
                                <td><span t-field="provider_booking.destination"/><br/></td>
                                <td><span t-field="provider_booking.start_date"/></td>
                                <td><span t-field="provider_booking.end_date"/></td>
                            </tr>
                        </tbody>
                    </table>

                    <span style="font-size: 28px; font-weight: 730">Passenger Detail(s)</span><br/>
                    <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                        <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                            <div class="col-1" style="text-align: center; font-size:17px;">
                                No.
                            </div>
                            <div class="col-4" style="text-align: center; font-size:17px;">
                                Name
                            </div>
                            <div class="col-2" style="text-align: right; font-size:17px; padding-right: 30px;">
                                Birth Date
                            </div>
                            <div class="col-2" style="text-align: center; font-size:17px;">
                                Pax
                            </div>
                            <div class="col-3" style="text-align: center; font-size:17px;">
                                Facility(s)
                            </div>
                        </div>
                        <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                        <t t-set="psg_index" t-value="0"/>
                        <t t-foreach="provider_booking.ticket_ids" t-as="psg">
                            <div class="row" style="margin-left: 0px; margin-right: 0px">
                                <div class="col-1" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-esc="psg_index+1"/>.</label>
                                </div>
                                <div class="col-4" style="text-align: left">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.passenger_id.title"/> <span t-field="psg.passenger_id.name"/></label>
                                </div>
                                <div class="col-2" style="text-align: right">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.passenger_id.birth_date" t-options ='{"format": "dd MMM yyyy"}'/></label>
                                </div>
                                <div class="col-2" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.pax_type"/></label>
                                </div>
                                <div class="col-3" style="text-align: center">
                                    -
                                    <!--<i style="margin-right:3px;" class="fa fa-suitcase"/>-->
                                    <!--<i style="margin-right:3px;" class="fa fa-cutlery"/>-->
                                    <!--<i style="margin-right:3px;" class="fa fa-wheelchair"/>-->
                                </div>
                            </div>
                        </t>
                        <div style="margin-bottom: 5px"/>
                    </div>
                </t>
            </div>
        </div>
    </template>

    <template id="offline_itinerary_view">
        <!-- Main Params -->
        <div class="row">
            <div class="col-12">
                <span style="font-size: 28px; font-weight: 730">Reservation Detail(s)</span><br/>
                <table class="table table-sm" style="text-align:center;">
                    <t t-if="doc.offline_provider_type in ['airline', 'train']">
                        <thead>
                            <tr>
                                <th>PNR</th>
                                <th>Origin</th>
                                <th>Destination</th>
                                <th>Departure</th>
                                <th>Arrival</th>
                                <th>Carrier</th>
                                <th>Class</th>
                                <th>Sub-Class</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="doc.line_ids" t-as="offline_line">
                                <tr>
                                    <td><span t-field="offline_line.pnr"/></td>
                                    <td><span t-field="offline_line.origin_id.name"/></td>
                                    <td><span t-field="offline_line.destination_id.name"/></td>
                                    <td><span t-field="offline_line.departure_date"/> <span t-field="offline_line.departure_hour"/>:<span t-field="offline_line.departure_minute"/></td>
                                    <td><span t-field="offline_line.arrival_date"/> <span t-field="offline_line.return_hour"/>:<span t-field="offline_line.return_minute"/></td>
                                    <td><span t-field="offline_line.carrier_id.name"/> <t t-if="doc.offline_provider_type == 'airline'">(<span t-field="offline_line.carrier_code"/> <span t-field="offline_line.carrier_number"/>)</t></td>
                                    <td><t t-if="offline_line.class_of_service"><span t-field="offline_line.class_of_service"/></t><t t-else="">-</t></td>
                                    <td><t t-if="offline_line.subclass"><span t-field="offline_line.subclass"/></t><t t-else="">-</t></td>
                                </tr>
                            </t>
                        </tbody>
                    </t>
                    <t t-elif="doc.offline_provider_type == 'hotel'">
                        <thead>
                            <tr>
                                <th>PNR</th>
                                <th>Hotel</th>
                                <th>Room</th>
                                <th>Check In</th>
                                <th>Check Out</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="doc.line_ids" t-as="offline_line">
                                <tr>
                                    <td><span t-field="offline_line.pnr"/></td>
                                    <td><span t-field="offline_line.hotel_name"/></td>
                                    <td><span t-field="offline_line.room"/></td>
                                    <td><span t-field="offline_line.check_in"/></td>
                                    <td><span t-field="offline_line.check_out"/></td>
                                    <td><t t-if="offline_line.description"><span t-field="offline_line.description"/></t><t t-else="">-</t></td>
                                </tr>
                            </t>
                        </tbody>
                    </t>
                    <t t-elif="doc.offline_provider_type == 'activity'">
                        <thead>
                            <tr>
                                <th>PNR</th>
                                <th>Activity</th>
                                <th>Visit Date</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="doc.line_ids" t-as="offline_line">
                                <tr>
                                    <td><span t-field="offline_line.pnr"/></td>
                                    <td><span t-field="offline_line.activity_name"/> (<span t-field="offline_line.activity_package"/>)</td>
                                    <td><span t-field="offline_line.visit_date"/></td>
                                    <td><t t-if="offline_line.description"><span t-field="offline_line.description"/></t><t t-else="">-</t></td>
                                </tr>
                            </t>
                        </tbody>
                    </t>
                    <t t-else="">
                        <thead>
                            <tr>
                                <th>PNR</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="doc.line_ids" t-as="offline_line">
                                <tr>
                                    <td><span t-field="offline_line.pnr"/></td>
                                    <td><t t-if="offline_line.description"><span t-field="offline_line.description"/></t><t t-else="">-</t></td>
                                </tr>
                            </t>
                        </tbody>
                    </t>
                </table>
                <span style="font-size: 28px; font-weight: 730">Passenger Detail(s)</span><br/>
                <div class="box" style="margin: 20px 20px 20px 20px; border-style: solid; border-width: 1px; border-color: #BBB; border-radius: 20px">
                    <div class="row" style="margin-left: 0px; margin-right: 0px; margin-top: 5px; margin-bottom: 5px">
                        <t t-if="doc.offline_provider_type in ['airline', 'train']">
                            <div class="col-1" style="text-align: center; font-size:17px;">
                                No.
                            </div>
                            <div class="col-4" style="text-align: center; font-size:17px;">
                                Name
                            </div>
                            <div class="col-2" style="text-align: right; font-size:17px; padding-right: 30px;">
                                Birth Date
                            </div>
                            <div class="col-2" style="text-align: right; font-size:17px;">
                                Pax Type
                            </div>
                            <div class="col-1" style="text-align: right; font-size:17px;">
                                Seat
                            </div>
                            <div class="col-2" style="text-align: right; font-size:17px;">
                                Ticket Number
                            </div>
                        </t>
                        <t t-else="">
                            <div class="col-1" style="text-align: center; font-size:17px;">
                                No.
                            </div>
                            <div class="col-6" style="text-align: center; font-size:17px;">
                                Name
                            </div>
                            <div class="col-2" style="text-align: right; font-size:17px; padding-right: 30px;">
                                Birth Date
                            </div>
                            <div class="col-3" style="text-align: right; font-size:17px;">
                                Pax Type
                            </div>
                        </t>
                    </div>
                    <div style="border: 1px solid #BBB; margin-bottom: 5px; margin-left: 15px; margin-right: 15px"/>
                    <t t-set="psg_index" t-value="0"/>
                    <t t-foreach="doc.passenger_ids" t-as="psg">
                        <div class="row" style="margin-left: 0px; margin-right: 0px">
                            <t t-if="doc.offline_provider_type in ['airline', 'train']">
                                <div class="col-1" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-esc="psg_index+1"/>.</label>
                                </div>
                                <div class="col-4" style="text-align: left">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.title"/> <span t-field="psg.first_name"/> <span t-field="psg.last_name"/></label>
                                </div>
                                <div class="col-2" style="text-align: right">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.birth_date" t-options ='{"format": "dd MMM yyyy"}'/></label>
                                </div>
                                <div class="col-2" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.pax_type"/></label>
                                </div>
                                <div class="col-1" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><t t-if="psg.seat"><span t-field="psg.seat"/></t><t t-else="">-</t></label>
                                </div>
                                <div class="col-2" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><t t-if="psg.seat"><span t-field="psg.ticket_number"/></t><t t-else="">-</t></label>
                                </div>
                            </t>
                            <t t-else="">
                                <div class="col-1" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-esc="psg_index+1"/>.</label>
                                </div>
                                <div class="col-6" style="text-align: left">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.title"/> <span t-field="psg.first_name"/> <span t-field="psg.last_name"/></label>
                                </div>
                                <div class="col-2" style="text-align: right">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.birth_date" t-options ='{"format": "dd MMM yyyy"}'/></label>
                                </div>
                                <div class="col-3" style="text-align: center">
                                    <label style="font-weight:450; font-size:17px; margin-bottom: 0px; overflow-wrap: break-word;"><span t-field="psg.pax_type"/></label>
                                </div>
                            </t>
                        </div>
                    </t>
                    <div style="margin-bottom: 5px"/>
                </div>
            </div>
        </div>
    </template>

    <template id="json_itinerary_content_view">
        <div class="row">
            <div class="col-12">
                <!-- Hotel -->
                <t t-if="doc['type'] == 'hotel'">
                    <span style="font-size: 28px; font-weight: 730">Reservation Detail(s)</span><br/>
                    <table class="table table-sm" style="text-align:center;">
                        <thead>
                            <tr>
                                <th>Voucher No.</th>
                                <th>Check In</th>
                                <th>Check Out</th>
                                <th>Hotel</th>
                                <th>Room</th>
                                <th>Meal Type</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="doc['line']" t-as="line">
                                <tr>
                                    <td><span t-esc="line['resv']"/></td>
                                    <td><span t-esc="line['checkin']"/></td>
                                    <td><span t-esc="line['checkout']"/></td>
                                    <td><span t-esc="line['hotel_name']"/><br/></td>
                                    <td><span t-esc="line['room_name']"/></td>
                                    <td><span t-esc="line['meal_type']"/></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </t>
                <!-- Activity -->
                <t t-if="doc['type'] == 'activity'">
                    <span style="font-size: 28px; font-weight: 730">Reservation Detail(s)</span><br/>
                    <table class="table table-sm" style="text-align:center;">
                        <thead>
                            <tr>
                                <th>Voucher No.</th>
                                <th>Visit Date</th>
                                <th>Time Slot</th>
                                <th>Activity</th>
                                <th>Product Type</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="doc['line']" t-as="line">
                                <tr>
                                    <td><span t-esc="line['resv']"/></td>
                                    <td><span t-esc="line['checkin']"/></td>
                                    <td><span t-esc="line['time_slot']"/><br/></td>
                                    <td><span t-esc="line['activity_title']"/></td>
                                    <td><span t-esc="line['product_type']"/></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </t>
                <!-- Tour -->
                <t t-if="doc['type'] == 'tour'">
                    <span style="font-size: 28px; font-weight: 730">Reservation Detail(s)</span><br/>
                    <table class="table table-sm" style="text-align:center;">
                        <thead>
                            <tr>
                                <th>Voucher No.</th>
                                <th>Departure Date</th>
                                <th>Return Date</th>
                                <th>Tour</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="doc['line']" t-as="line">
                                <tr>
                                    <td><span t-esc="line['resv']"/></td>
                                    <td><span t-esc="line['checkin']"/></td>
                                    <td><span t-esc="line['checkout']"/><br/></td>
                                    <td><span t-esc="line['tour_name']"/></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </t>

                <span style="font-size: 28px; font-weight: 730">Guest Detail(s)</span><br/>
                <table class="table table-sm" style="text-align:center; font-size:17px;">
                    <thead>
                        <tr>
                            <th>No.</th>
                            <th>Name</th>
                            <th>Pax</th>
                            <th>Birth Date</th>
                            <th>Additional Info</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-set="psg_index" t-value="0"/>
                        <t t-foreach="doc['passenger']" t-as="psg">
                            <tr>
                                <td><span t-esc="psg_index+1"/>.</td>
                                <td><span t-esc="psg['name']"/></td>
                                <td><span t-esc="psg['pax_type']"/></td>
                                <td><span t-esc="psg['birth_date']"/></td>
                                <td>
                                    <t t-if="psg['additional_info']">
                                    <ul style="padding: 3px;">
                                        <t t-foreach="psg['additional_info']" t-as="info_id">
                                            <li><span t-esc="info_id"/></li>
                                        </t>
                                    </ul>
                                </t>
                                    <t t-else="">
                                    <span style="text-align: center;">-</span>
                                </t>
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>
        </div>
    </template>

    <template id="itinerary_signature">
        <t t-if="doc_model != 'tt.reservation.hotel'">
        <div class="row">
            <div class="col-12">
                List of bank:<br/>
                <ul>
                    <!-- <t t-set="limit" t-value="3"/>-->
                    <t t-set="current" t-value="0"/>
                    <t t-foreach="doc.agent_id.payment_acquirer_ids" t-as="payment_id">
                        <!-- <t t-if="payment_id.type == 'transfer' and payment_id.account_number and payment_id.account_name and current &lt; limit">-->
                        <t t-if="payment_id.type == 'transfer' and payment_id.account_number and payment_id.account_name and payment_id.website_published">
                            <li style="font-size: 14px;"><span t-field="payment_id.bank_id.name"/> <span t-field="payment_id.account_number"/> A/N <span t-field="payment_id.account_name"/></li>
                            <t t-set="current" t-value="current + 1"/>
                        </t>
                    </t>
                    <t t-if="current == 0">
                        <li>Direct payment (cash) at <span t-field="doc.agent_id.name"/></li>
                    </t>
                </ul>
            </div>
        </div>
        </t>
        <div class="row">
            <span t-raw="printout_itinerary_footer"/>
        </div>
        <br/>
        <table width="100%">
            <tr>
                <td width="70%"/>
                <td width="25%" style="text-align:center">
                    <t t-esc="date_now.strftime('%d %B %Y')"/><br/>
                    <p>Buyer</p>
                    <p style="color: white;">.</p>
                    <p style="color: white;">.</p>
                    <p>(.................................)</p>
                    <p style="border-top: 1px solid black">Representative Signature</p>
                </td>
            </tr>
        </table>
    </template>

    <template id="printout_itinerary">
        <t t-set="data_report_header_spacing" t-value="20"/>
        <t t-set="data_report_margin_top" t-value="10"/>
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <t t-call="tt_report_common.external_layout">
                        <div style="margin: 0px 10px 20px 10px; font-family: 'Liberation Sans'">
                            <div class="row" style="margin-bottom: 10px; margin-top: 10px; font-size: 18px; font-weight: 730;">
                                <div class="col-6">
                                    <span>No. Booking : </span>
                                    <span t-field="doc.name"/><br/>
                                </div>
                                <div class="col-6">
                                    <span>Print Date  : </span>
                                    <span t-esc="date_now.astimezone(printout_tz).strftime('%Y-%m-%d %H:%M:%S')" /> (<t t-esc="printout_tz"/>)<br/>
                                </div>
                            </div>

                            <t t-if="doc_model == 'tt.reservation.airline'">
                                <t t-call="tt_report_common.reservation_airline_content_view"/>
                            </t>
                            <t t-if="doc_model == 'tt.reservation.train'">
                                <t t-call="tt_report_common.reservation_train_content_view"/>
                            </t>
                            <t t-if="doc_model == 'tt.reservation.hotel'">
                                <t t-call="tt_report_common.hotel_itinerary_content_view"/>
                            </t>
                            <br/>
                            <t t-call="tt_report_common.itinerary_price_detail_per_pax"/>
                            <t t-call="tt_report_common.itinerary_signature"/>
                        </div>
                    </t>
                </div>
            </t>
        </t>
    </template>

    <template id="printout_activity_itinerary">
        <t t-set="data_report_header_spacing" t-value="20"/>
        <t t-set="data_report_margin_top" t-value="10"/>
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <t t-call="tt_report_common.external_layout">
                        <div style="margin: 0px 10px 20px 10px; font-family: 'Liberation Sans'">
                            <div style="margin-bottom: 10px; margin-top: 10px;">
                                <span style="font-size: 18px; font-weight: 730">No. Booking : </span>
                                <span t-field="doc.name" style="font-size: 18px; font-weight: 730"/><br/>
                            </div>

                            <t t-call="tt_report_common.activity_itinerary_view"/>
                            <t t-call="tt_report_common.itinerary_price_detail"/>
                            <br/>
                            <t t-call="tt_report_common.itinerary_signature"/>
                        </div>
                    </t>
                </div>
            </t>
        </t>
    </template>

    <template id="printout_event_itinerary">
        <t t-set="data_report_header_spacing" t-value="20"/>
        <t t-set="data_report_margin_top" t-value="10"/>
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <t t-call="tt_report_common.external_layout">
                        <div style="margin: 0px 10px 20px 10px; font-family: 'Liberation Sans'">
                            <div style="margin-bottom: 10px; margin-top: 10px;">
                                <span style="font-size: 18px; font-weight: 730">No. Booking : </span>
                                <span t-field="doc.name" style="font-size: 18px; font-weight: 730"/><br/>
                            </div>

                            <t t-call="tt_report_common.event_itinerary_view"/>
                            <t t-call="tt_report_common.itinerary_price_detail"/>
                            <br/>
                            <t t-call="tt_report_common.itinerary_signature"/>
                        </div>
                    </t>
                </div>
            </t>
        </t>
    </template>

    <template id="printout_tour_itinerary">
        <t t-set="data_report_header_spacing" t-value="20"/>
        <t t-set="data_report_margin_top" t-value="10"/>
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <t t-call="tt_report_common.external_layout">
                        <div style="margin: 0px 10px 20px 10px; font-family: 'Liberation Sans'">
                            <div style="margin-bottom: 10px; margin-top: 10px;">
                                <span style="font-size: 18px; font-weight: 730">No. Booking : </span>
                                <span t-field="doc.name" style="font-size: 18px; font-weight: 730"/><br/>
                            </div>

                            <t t-call="tt_report_common.tour_itinerary_view"/>
                            <t t-call="tt_report_common.itinerary_price_detail"/>
                            <br/>
                            <t t-call="tt_report_common.itinerary_signature"/>
                        </div>
                    </t>
                </div>
            </t>
        </t>
    </template>

    <template id="printout_passport_itinerary">
        <t t-set="data_report_header_spacing" t-value="20"/>
        <t t-set="data_report_margin_top" t-value="10"/>
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <t t-call="tt_report_common.external_layout">
                        <div style="margin: 0px 10px 20px 10px; font-family: 'Liberation Sans'">
                            <div style="margin-bottom: 10px; margin-top: 10px;">
                                <span style="font-size: 18px; font-weight: 730">No. Booking : </span>
                                <span t-field="doc.name" style="font-size: 18px; font-weight: 730"/><br/>
                            </div>

                            <t t-call="tt_report_common.passport_itinerary_view"/>
                            <t t-call="tt_report_common.itinerary_price_detail"/>
                            <br/>
                            <t t-call="tt_report_common.itinerary_signature"/>
                        </div>
                    </t>
                </div>
            </t>
        </t>
    </template>

    <template id="printout_ppob_itinerary">
        <t t-set="data_report_header_spacing" t-value="20"/>
        <t t-set="data_report_margin_top" t-value="10"/>
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <t t-call="tt_report_common.external_layout">
                        <div style="margin: 0px 10px 20px 10px; font-family: 'Liberation Sans'">
                            <div style="margin-bottom: 10px; margin-top: 10px;">
                                <span style="font-size: 18px; font-weight: 730">No. Booking : </span>
                                <span t-field="doc.name" style="font-size: 18px; font-weight: 730"/><br/>
                            </div>

                            <t t-call="tt_report_common.ppob_itinerary_view"/>
                            <t t-call="tt_report_common.itinerary_price_detail"/>
                            <br/>
                            <t t-call="tt_report_common.itinerary_signature"/>
                        </div>
                    </t>
                </div>
            </t>
        </t>
    </template>

    <template id="printout_visa_itinerary">
        <t t-set="data_report_header_spacing" t-value="20"/>
        <t t-set="data_report_margin_top" t-value="10"/>
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <t t-call="tt_report_common.external_layout">
                        <div style="margin: 0px 10px 20px 10px; font-family: 'Liberation Sans'">
                            <div style="margin-bottom: 10px; margin-top: 10px;">
                                <span style="font-size: 18px; font-weight: 730">No. Booking : </span>
                                <span t-field="doc.name" style="font-size: 18px; font-weight: 730"/><br/>
                            </div>

                            <t t-call="tt_report_common.visa_itinerary_view"/>
                            <t t-call="tt_report_common.itinerary_price_detail"/>
                            <br/>
                            <t t-call="tt_report_common.itinerary_price_detail_per_pax"/>
                            <t t-call="tt_report_common.itinerary_signature"/>
                        </div>
                    </t>
                </div>
            </t>
        </t>
    </template>

    <template id="printout_periksain_itinerary">
        <t t-set="data_report_header_spacing" t-value="20"/>
        <t t-set="data_report_margin_top" t-value="10"/>
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <t t-call="tt_report_common.external_layout">
                        <div style="margin: 0px 10px 20px 10px; font-family: 'Liberation Sans'">
                            <div style="margin-bottom: 10px; margin-top: 10px;">
                                <span style="font-size: 18px; font-weight: 730">No. Booking : </span>
                                <span t-field="doc.name" style="font-size: 18px; font-weight: 730"/><br/>
                            </div>

                            <t t-call="tt_report_common.periksain_itinerary_view"/>
                            <t t-call="tt_report_common.itinerary_price_detail"/>
                            <br/>
                            <t t-call="tt_report_common.itinerary_signature"/>
                        </div>
                    </t>
                </div>
            </t>
        </t>
    </template>

    <template id="printout_medical_itinerary">
        <t t-set="data_report_header_spacing" t-value="20"/>
        <t t-set="data_report_margin_top" t-value="10"/>
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <t t-call="tt_report_common.external_layout">
                        <div style="margin: 0px 10px 20px 10px; font-family: 'Liberation Sans'">
                            <div style="margin-bottom: 10px; margin-top: 10px;">
                                <span style="font-size: 18px; font-weight: 730">No. Booking : </span>
                                <span t-field="doc.name" style="font-size: 18px; font-weight: 730"/><br/>
                            </div>

                            <t t-call="tt_report_common.medical_itinerary_view"/>
                            <t t-call="tt_report_common.itinerary_price_detail"/>
                            <br/>
                            <t t-call="tt_report_common.itinerary_signature"/>
                        </div>
                    </t>
                </div>
            </t>
        </t>
    </template>

    <template id="printout_bus_itinerary">
        <t t-set="data_report_header_spacing" t-value="20"/>
        <t t-set="data_report_margin_top" t-value="10"/>
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <t t-call="tt_report_common.external_layout">
                        <div style="margin: 0px 10px 20px 10px; font-family: 'Liberation Sans'">
                            <div style="margin-bottom: 10px; margin-top: 10px;">
                                <span style="font-size: 18px; font-weight: 730">No. Booking : </span>
                                <span t-field="doc.name" style="font-size: 18px; font-weight: 730"/><br/>
                            </div>

                            <t t-call="tt_report_common.bus_itinerary_view"/>
                            <t t-call="tt_report_common.itinerary_price_detail"/>
                            <br/>
                            <t t-call="tt_report_common.itinerary_signature"/>
                        </div>
                    </t>
                </div>
            </t>
        </t>
    </template>

    <template id="printout_insurance_itinerary">
        <t t-set="data_report_header_spacing" t-value="20"/>
        <t t-set="data_report_margin_top" t-value="10"/>
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <t t-call="tt_report_common.external_layout">
                        <div style="margin: 0px 10px 20px 10px; font-family: 'Liberation Sans'">
                            <div style="margin-bottom: 10px; margin-top: 10px;">
                                <span style="font-size: 18px; font-weight: 730">No. Booking : </span>
                                <span t-field="doc.name" style="font-size: 18px; font-weight: 730"/><br/>
                            </div>

                            <t t-call="tt_report_common.insurance_itinerary_view"/>
                            <t t-call="tt_report_common.itinerary_price_detail"/>
                            <br/>
                            <t t-call="tt_report_common.itinerary_signature"/>
                        </div>
                    </t>
                </div>
            </t>
        </t>
    </template>

    <template id="printout_offline_itinerary">
        <t t-set="data_report_header_spacing" t-value="20"/>
        <t t-set="data_report_margin_top" t-value="10"/>
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <t t-call="tt_report_common.external_layout">
                        <div style="margin: 0px 10px 20px 10px; font-family: 'Liberation Sans'">
                            <div style="margin-bottom: 10px; margin-top: 10px;">
                                <span style="font-size: 18px; font-weight: 730">No. Booking : </span>
                                <span t-field="doc.name" style="font-size: 18px; font-weight: 730"/><br/>
                            </div>

                            <t t-call="tt_report_common.offline_itinerary_view"/>
                            <t t-call="tt_report_common.itinerary_price_detail"/>
                            <br/>
                            <t t-call="tt_report_common.itinerary_signature"/>
                        </div>
                    </t>
                </div>
            </t>
        </t>
    </template>

    <template id="printout_json_itinerary">
        <t t-set="data_report_header_spacing" t-value="20"/>
        <t t-set="data_report_margin_top" t-value="10"/>
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <div class="container">
                        <div class="article" style="margin: 0px !important; padding: 0px !important">
                            <!-- Copasan id="external_layout_header" Start -->
                            <div class="row" style="height:100px; font-family: 'Liberation Sans'">
                                <t t-if="doc['agent_id'].logo">
                                    <div class="col-4" style="margin-left: 30px">
                                        <img t-att-src="'data:image/png;base64,%s' % to_text(doc['agent_id'].logo)" border="1" style="max-height:100px; max-width:165px; margin-bottom: 20px"/><br/>
                                    </div>
                                </t>
                                <t t-else="">
                                        <div class="col-4" style="margin-left: 30px; text-align: center; display: inline-flex; align-items: center;">
                                            <span t-field="doc['agent_id'].name" style="font-size: 18px;"/>
                                        </div>
                                    </t>
                                <div class="col-1">

                                </div>
                                <div class="col-6 text-center">
                                    <span t-att-style="'margin-top: 10px; margin-left: 10px; color: '+ base_color +'; font-size: 20px;'">Itinerary Form</span><br/>
                                    <t t-set="printout_icon" t-value="'/tt_report_common/static/images/bill-white.png'"/>

                                    <div t-att-style="'height: 105px; width:'+ header_width+'%; float: right'">
                                        <div id="circle" t-att-style="'width: 60px; height: 60px; background: '+ base_color +'; border-radius: 100%; position: absolute; z-index: 1;'">
                                            <img t-att-src="printout_icon" style="max-height: 35px; max-width: 35px; margin: 12px 0px 0px 0px;"/>
                                        </div>
                                        <div id="rectangle" t-att-style="'width: '+header_width+'%; height: 50px; bottom: 15px; border-radius: 25px; position: absolute; z-index: 0; background-image: ' + img_url">
                                            <div style="padding-left: 75px; padding-bottom: 10px; vertical-align: middle; text-align: center; border-radius: 25px; background-color: rgba(39,62,84,0.76); padding-top: 5px;">
                                                <div style="vertical-align: middle; display: flex; letter-spacing: 0.05em; font-size: 24px; color: white; font-weight: 600; margin-top: 0px; margin-left: -10px; margin-right: 10px;">
                                                    <span t-esc="'Itinerary'" style="margin-top: 5px;"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div style="border: 1px solid #BBB; margin-bottom: 10px; margin-top: 10px; position: absolute; left: 0; right: 0; width: 100%"/>  <!---15px -15px-->
                            <!-- Copasan id="external_layout_header" End -->
                            <!-- Body Start -->
                            <div style="margin: 0px 10px 20px 10px; font-family: 'Liberation Sans'">
                                <div style="margin-bottom: 10px; margin-top: 10px;">
                                    <span style="font-size: 18px; font-weight: 730">No. Booking : </span>
                                    <span t-esc="doc.get('name') or 'Ittinerary'" style="font-size: 18px; font-weight: 730"/><br/>
                                </div>

                                <t t-call="tt_report_common.json_itinerary_content_view"/>
                                <t t-call="tt_report_common.itinerary_price_detail"/>
                                <br/>
                                <t t-call="tt_report_common.itinerary_signature"/>
                            </div>
                            <!-- Body End -->
                            <div class="footer" style="margin-top: 20px; position: absolute; left: 0; right: 0; background-image: url('/tt_reservation_offline/static/images/background footer airline.jpg');">
                                <div class="box-footer" style="padding: 0px; width: 100%; height: 120px; background: rgba(39,62,84,0.82); font-family: 'DejaVu Sans'">  <!--rgba(70,70,70,0.8);-->
                                    <div class="row">
                                        <div class="col-5" style="margin-top:10px; margin-left: 15px; margin-right: 15px; padding: 0 30px;">
                                            <div>
                                                <span style="font-weight: 600; color: white" t-field="doc['agent_id'].name"/>
                                            </div>
                                            <div>
                                                <t t-if="doc['agent_id'].address_ids">
                                                    <span style="color: white; font-size: 13px;" t-field="doc['agent_id'].address_ids[0].address"/>
                                                </t>
                                                <t t-else="">
                                                    <span style="color: white; font-size: 13px;">-</span>
                                                </t>
                                            </div>
                                        </div>
                                        <div class="col-6" style="margin-top:10px;">
                                            <div>
                                                <span style="font-weight: 500; color: white">Contact Customer Care</span>
                                            </div>
                                            <div class="row">
                                                <div class="col-6">
                                                    <div style="margin-top: 5px;">
                                                        <span style="color: white"><img t-att-src="'/tt_report_common/static/images/24-hours-phone-service.png'" height="200" border="1" width="300" style="max-height:24px; max-width:24px;"/>
                                                            <t t-if="doc['agent_id'].phone_ids">
                                                                <span style="color: white; font-size: 13px" t-field="doc['agent_id'].phone_ids[0].calling_code"/> <span style="color: white; font-size: 14px" t-field="doc['agent_id'].phone_ids[0].calling_number"/>
                                                            </t>
                                                            <t t-else=""><span style="color: white; font-size: 13px">-</span></t>
                                                        </span>
                                                    </div>
                                                    <div style="margin-top: 5px;">
                                                        <span style="color: white"><img t-att-src="'/tt_report_common/static/images/whatsapp.png'" height="200" border="1" width="300" style="max-height:24px; max-width:24px;"/>
                                                            <t t-if="doc['agent_id'].social_media_ids.filtered(lambda x: x.type_id.name == 'WhatApps')">
                                                                <span style="color: white; font-size: 13px" t-field="doc['agent_id'].social_media_ids.filtered(lambda x: x.type_id.name == 'WhatApps')[0].name"/>
                                                            </t>
                                                            <t t-else=""><span style="color: white; font-size: 13px">-</span></t>
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <div style="margin-top: 5px;">
                                                        <span style="color: white"><img t-att-src="'/tt_report_common/static/images/telegram.png'" height="200" border="1" width="300" style="max-height:24px; max-width:24px;"/>
                                                            <t t-if="doc['agent_id'].social_media_ids.filtered(lambda x: x.type_id.name == 'Telegram')">
                                                                <span style="color: white; font-size: 13px" t-field="doc['agent_id'].social_media_ids.filtered(lambda x: x.type_id.name == 'Telegram')[0].name"/>
                                                            </t>
                                                            <t t-else=""><span style="color: white; font-size: 13px">-</span></t>
                                                        </span>
                                                    </div>
                                                    <div style="margin-top: 5px;">
                                                        <span style="color: white"><img t-att-src="'/tt_report_common/static/images/line.png'" height="200" border="1" width="300" style="max-height:24px; max-width:24px;"/>
                                                            <t t-if="doc['agent_id'].social_media_ids.filtered(lambda x: x.type_id.name == 'Line')">
                                                                <span style="color: white; font-size: 13px" t-field="doc['agent_id'].social_media_ids.filtered(lambda x: x.type_id.name == 'Line')[0].name"/>
                                                            </t>
                                                            <t t-else=""><span style="color: white; font-size: 13px">-</span></t>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </t>
        </t>
    </template>
</odoo>