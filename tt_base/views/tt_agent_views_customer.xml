<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="tt_agent_form_view_customer" model="ir.ui.view">
            <field name="name">tt.agent.form.view.customer</field>
            <field name="model">tt.agent</field>
            <field name="mode">primary</field>
            <field name="inherit_id" ref="tt_base.tt_agent_form_view"/>
            <field name="arch" type="xml">
                <field name="seq_id" position="replace">
                    <field name="seq_id" readonly="1"/>
                </field>
                <field name="currency_id" position="replace"/>
                    <field name="currency_id" readonly="1"/>
                </field>>
                <field name="est_date" position="replace">
                    <field name="est_date" readonly="1"/>
                </field>
                <field name="agent_type_id" position="replace">
                    <field name="agent_type_id" readonly="1"/>
                </field>
                <field name="reference" position="replace">
                    <field name="reference" readonly="1"/>
                </field>
                <field name="parent_agent_id" position="replace">
                    <field name="parent_agent_id" readonly="1"/>
                </field>
                <field name="customer_parent_ids" position="replace">
                    <field name="customer_parent_ids" readonly="1"
                           context="{'form_view_ref': 'tt_base.tt_customer_parent_form_view_customer'}"/>
                </field>
                <field name="payment_acquirer_ids" position="replace">
                    <field name="payment_acquirer_ids" readonly="1"/>
                </field>
            </field>
        </record>

        <record id="tt_agent_kanban_view_customer" model="ir.ui.view">
            <field name="name">tt.agent.kanban.view</field>
            <field name="model">tt.agent</field>
            <field name="priority">10</field>
            <field name="arch" type="xml">
                <kanban class="o_hr_employee_kanban">
                    <field name="id"/>
                    <field name="name"/>
                    <field name="email"/>
                    <field name="est_date"/>
    <!--                <field name="currency_id"/>-->
                    <templates>
                        <t t-name="kanban-box">
                            <div class="oe_kanban_global_click o_kanban_record_has_image_fill o_hr_kanban_record">
                                <!-- Medium employee's picture -->
                                <div class="o_kanban_image_fill_left d-none d-md-block" t-attf-style="background-image: url(#{kanban_image('tt.agent', 'logo', record.id.raw_value)})" role="img"/>
                                <!-- Employee's picture optimized for mobile -->
                                <div class="o_kanban_image d-md-none rounded-circle" t-attf-style="background-image: url(#{kanban_image('tt.agent', 'logo', record.id.raw_value)})" role="img"/>

                                <!-- Medium employee's picture -->
                                <!--<div class="o_kanban_image_fill_left d-none d-md-block" t-attf-style="background-image: url(#{kanban_image('hr.employee', 'image_medium', record.id.raw_value)})" role="img"/>-->
                                <!-- Employee's picture optimized for mobile -->
                                <!--<div class="o_kanban_image d-md-none rounded-circle" t-attf-style="background-image: url(#{kanban_image('hr.employee', 'image_small', record.id.raw_value)})" role="img"/>-->

                                <div class="oe_kanban_details">
                                    <div class="o_kanban_record_top">
                                        <div class="o_kanban_record_headings">
                                            <strong class="o_kanban_record_title">
                                                <h4>
                                                    <field name="name"/>
                                                </h4>
                                            </strong>
                                            <span class="o_kanban_record_subtitle" name="email_for_inh">Email: <field name="email"/></span>
                                        </div>
                                    </div>
                                    <!--options="{'color_field': 'color'}"-->
                                    <!--<field name="phone_ids" widget="many2many_tags"/>-->
                                    <ul>
                                        <li id="est_date"/>
                                        <li>Established: <field name="est_date"/></li>
                                        <!--t-if="record.est_date.raw_value"-->
                                    </ul>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>

            </field>
        </record>

        <record id="tt_agent_customer_action_view" model="ir.actions.server">
            <field name="name">Agent</field>
            <field name="model_id" ref="model_tt_agent"/>
            <field name="state">code</field>
            <field name="code">action = model.agent_action_view_customer()</field>
            <field eval="True" name="condition"/>
        </record>

        <menuitem id="menu_customers_agent"
                  parent="tt_base.top_customers_agent"
                  groups="group_tt_agent_user_operator"
                  name="Agent"
                  sequence="2"/>

        <menuitem id="submenu_customers_all_agent"
                  parent="tt_base.menu_customers_agent"
                  groups="group_tt_agent_user_operator"
                  name="All"
                  sequence="2"
                  action="tt_agent_customer_action_view"/>

    </data>
</odoo>