<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="tt_reconcile_transaction_filter_view" model="ir.ui.view">
        <field name="name">tt.reconcile.transaction.filter.view</field>
        <field name="model">tt.reconcile.transaction</field>
        <field name="arch" type="xml">
            <search string="Search Reconcile">
                <field name="provider_type_id"/>
                <field name="provider_id"/>
                <field name="transaction_date"/>
                <separator/>
                <filter string="All" name='all'/>
                <filter string="Open" name='open' domain="[('state', '=', 'open')]"/>
            </search>
        </field>
    </record>

    <record id="tt_reconcile_transaction_form_view" model="ir.ui.view">
        <field name="name">tt.reconcile.transaction.form.view</field>
        <field name="model">tt.reconcile.transaction</field>
        <field name="arch" type="xml">
            <form create="false">
                <header>
                    <field name="state" widget="statusbar" statusbar_visible="open"/>
                </header>
                <sheet>
                    <!--                    <div class="oe_title">-->
                    <!--                        <label for="Name" class="oe_edit_only" string="Name"/>-->
                    <!--                        <h1>-->
                    <!--                            <field name="name"/>-->
                    <!--                        </h1>-->
                    <!--                    </div>-->
                    <group>
                        <field name="provider_type_id"/>
                        <field name="provider_id"/>
                        <field name="transaction_date"/>
                    </group>
                    <separator string="Line(s)"/>
                    <field name="reconcile_lines_ids"/>
                </sheet>
            </form>
        </field>
    </record>

    <record id="tt_reconcile_transaction_tree_view" model="ir.ui.view">
        <field name="name">tt.reconcile.transaction.tree.page</field>
        <field name="model">tt.reconcile.transaction</field>
        <field name="arch" type="xml">
            <tree create="false">
                <field name="provider_type_id"/>
                <field name="provider_id"/>
                <field name="transaction_date"/>
                <field name="state"/>
            </tree>
        </field>
    </record>

    <record id="tt_reconcile_transaction_lines_form_view" model="ir.ui.view">
        <field name="name">tt.reconcile.transaction.lines.form.view</field>
        <field name="model">tt.reconcile.transaction.lines</field>
        <field name="arch" type="xml">
            <form create="false">
                <!--                <header>-->
                <!--                    <field name="state" widget="statusbar" statusbar_visible="open"/>-->
                <!--                </header>-->
                <sheet>
                    <group>
                        <group>
                            <field name="agent_name"/>
                            <field name="pnr"/>
                            <field name="transaction_code"/>
                            <field name="type"/>
                        </group>
                        <group>
                            <field name="booking_time"/>
                            <field name="issued_time"/>
                            <field name="state"/>
                        </group>
                    </group>
                    <group>
                        <group>
                            <field name="base_price"/>
                            <field name="tax"/>
                            <field name="commission"/>
                            <field name="total"/>
                            <field name="currency_id" invisible="1"/>
                        </group>
                        <group>
                            <field name="vendor_start_balance"/>
                            <field name="vendor_end_balance"/>
                        </group>
                    </group>
                    <separator string="Ticket Number"/>
                    <field name="ticket_number"/>
                    <separator string="Description"/>
                    <field name="description"/>
                </sheet>
            </form>
        </field>
    </record>

    <record id="tt_reconcile_transaction_lines_tree_view" model="ir.ui.view">
        <field name="name">tt.reconcile.transaction.lines.tree.page</field>
        <field name="model">tt.reconcile.transaction.lines</field>
        <field name="arch" type="xml">
            <tree create="false">
                <field name="pnr"/>
                <field name="type"/>
                <field name="issued_time"/>
                <field name="base_price"/>
                <field name="tax"/>
                <field name="commission"/>
                <field name="total"/>
                <field name="state"/>
                <field name="currency_id" invisible="1"/>
            </tree>
        </field>
    </record>

    <record id="tt_reconcile_transaction_action" model="ir.actions.act_window">
        <field name="name">Reconcile Transaction</field>
        <field name="res_model">tt.reconcile.transaction</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="context">
            {
            'form_view_ref': 'tt_reservation.tt_reconcile_transaction_form_view',
            'tree_view_ref': 'tt_reservation.tt_reconcile_transaction_tree_view'
            }
        </field>
    </record>


    <!-- Reconcile -->
    <menuitem id="menu_transaction_accounting_reconcile"
              parent="tt_base.top_menu_accounting"
              name="Reconcile"
              sequence="50"
              groups="tt_base.group_tt_accounting_operator"/>

    <menuitem id="sub_menu_transaction_reconcile"
              parent="tt_reservation.menu_transaction_accounting_reconcile"
              name="Reconcile"
              action="tt_reconcile_transaction_action"
              sequence="10"/>

    <!--    <menuitem id="sub_menu_transaction_reconcile_lines"-->
    <!--              parent="tt_base.menu_transaction_accounting_reconcile"-->
    <!--              name="Reconcile Lines"-->
    <!--              action="tt_monthly_fee_rule_action"-->
    <!--              groups="base.user_admin"-->
    <!--              sequence="20"/>-->
</odoo>